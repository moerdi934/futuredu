"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_pages-dir-node_components_supereditor_Toolbars_Images_Images_tsx";
exports.ids = ["_pages-dir-node_components_supereditor_Toolbars_Images_Images_tsx"];
exports.modules = {

/***/ "(pages-dir-node)/./components/supereditor/Toolbars/Images/Images.tsx":
/*!***********************************************************!*\
  !*** ./components/supereditor/Toolbars/Images/Images.tsx ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ImageAlignmentFloater: () => (/* binding */ ImageAlignmentFloater),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   handleImageInsertion: () => (/* binding */ handleImageInsertion),\n/* harmony export */   setupImageResizeHandlers: () => (/* binding */ setupImageResizeHandlers)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ setupImageResizeHandlers,handleImageInsertion,default,ImageAlignmentFloater auto */ \n\n// Main ImageModal Component\nconst ImageModal = ({ isOpen, onClose, onInsert })=>{\n    const fileInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [imageUrl, setImageUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [uploadedImage, setUploadedImage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [previewUrl, setPreviewUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [imageLoadError, setImageLoadError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Effect untuk preview URL gambar\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ImageModal.useEffect\": ()=>{\n            if (imageUrl.trim()) {\n                setPreviewUrl(imageUrl);\n                setImageLoadError(false);\n            } else {\n                setPreviewUrl('');\n                setImageLoadError(false);\n            }\n        }\n    }[\"ImageModal.useEffect\"], [\n        imageUrl\n    ]);\n    // Effect untuk preview file yang diupload\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ImageModal.useEffect\": ()=>{\n            if (uploadedImage) {\n                const reader = new FileReader();\n                reader.onload = ({\n                    \"ImageModal.useEffect\": (e)=>{\n                        if (e.target?.result) {\n                            setPreviewUrl(e.target.result);\n                            setImageLoadError(false);\n                        }\n                    }\n                })[\"ImageModal.useEffect\"];\n                reader.readAsDataURL(uploadedImage);\n            } else if (!imageUrl.trim()) {\n                setPreviewUrl('');\n                setImageLoadError(false);\n            }\n        }\n    }[\"ImageModal.useEffect\"], [\n        uploadedImage,\n        imageUrl\n    ]);\n    const handleFileChange = (e)=>{\n        if (e.target.files && e.target.files[0]) {\n            const file = e.target.files[0];\n            // Validasi tipe file\n            if (!file.type.startsWith('image/')) {\n                alert('Please select a valid image file.');\n                return;\n            }\n            // Validasi ukuran file (max 5MB)\n            if (file.size > 5 * 1024 * 1024) {\n                alert('File size must be less than 5MB.');\n                return;\n            }\n            setUploadedImage(file);\n            // Clear URL input when file is selected\n            setImageUrl('');\n        }\n    };\n    const triggerFileInput = (e)=>{\n        e.preventDefault();\n        e.stopPropagation();\n        fileInputRef.current?.click();\n    };\n    const handleImageInsert = (e)=>{\n        e.preventDefault();\n        e.stopPropagation();\n        if (imageUrl || uploadedImage) {\n            onInsert({\n                imageUrl,\n                uploadedImage\n            });\n            // Reset the state after insertion\n            setImageUrl('');\n            setUploadedImage(null);\n            setPreviewUrl('');\n            setImageLoadError(false);\n        }\n    };\n    const handleImageLoadError = ()=>{\n        setImageLoadError(true);\n    };\n    const handleUrlChange = (e)=>{\n        const url = e.target.value;\n        setImageUrl(url);\n        // Clear uploaded file when URL is entered\n        if (url.trim()) {\n            setUploadedImage(null);\n            // Reset file input\n            if (fileInputRef.current) {\n                fileInputRef.current.value = '';\n            }\n        }\n    };\n    const clearAll = (e)=>{\n        e.preventDefault();\n        e.stopPropagation();\n        setImageUrl('');\n        setUploadedImage(null);\n        setPreviewUrl('');\n        setImageLoadError(false);\n        if (fileInputRef.current) {\n            fileInputRef.current.value = '';\n        }\n    };\n    const handleModalClose = (e)=>{\n        e.preventDefault();\n        e.stopPropagation();\n        onClose();\n    };\n    if (!isOpen) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"tw-fixed tw-inset-0 tw-bg-black tw-bg-opacity-50 tw-flex tw-items-center tw-justify-center tw-z-50\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"tw-bg-white tw-rounded-lg tw-shadow-xl tw-max-w-2xl tw-w-full tw-max-h-screen tw-overflow-y-auto tw-m-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"tw-flex tw-justify-between tw-items-center tw-p-6 tw-border-b\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"tw-text-xl tw-font-semibold tw-text-purple-700\",\n                            children: \"Insert Image\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                            lineNumber: 151,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"tw-text-gray-400 hover:tw-text-gray-600 tw-text-2xl tw-leading-none\",\n                            onClick: handleModalClose,\n                            title: \"Close\",\n                            children: \"✕\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                            lineNumber: 152,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                    lineNumber: 150,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"tw-p-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"tw-mb-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"tw-block tw-text-sm tw-font-medium tw-text-gray-700 tw-mb-2\",\n                                    children: \"Image URL\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                                    lineNumber: 164,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"url\",\n                                    className: \"tw-border tw-border-gray-300 tw-rounded-lg tw-p-3 tw-w-full focus:tw-ring-2 focus:tw-ring-purple-500 focus:tw-border-purple-500 tw-transition-colors\",\n                                    placeholder: \"https://example.com/image.jpg\",\n                                    value: imageUrl,\n                                    onChange: handleUrlChange\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                                    lineNumber: 167,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                            lineNumber: 163,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"tw-flex tw-items-center tw-my-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"tw-flex-1 tw-border-t tw-border-gray-300\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                                    lineNumber: 178,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"tw-px-4 tw-text-gray-500 tw-text-sm tw-font-medium\",\n                                    children: \"OR\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                                    lineNumber: 179,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"tw-flex-1 tw-border-t tw-border-gray-300\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                                    lineNumber: 180,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                            lineNumber: 177,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"tw-mb-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"tw-block tw-text-sm tw-font-medium tw-text-gray-700 tw-mb-2\",\n                                    children: \"Upload Image\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                                    lineNumber: 185,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"tw-flex tw-items-center tw-gap-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            className: \"tw-bg-white tw-text-purple-700 tw-border-2 tw-border-purple-300 hover:tw-border-purple-500 tw-rounded-lg tw-px-4 tw-py-2 tw-transition-colors tw-font-medium\",\n                                            onClick: triggerFileInput,\n                                            children: \"Choose File\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                                            lineNumber: 189,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"file\",\n                                            ref: fileInputRef,\n                                            onChange: handleFileChange,\n                                            style: {\n                                                display: 'none'\n                                            },\n                                            accept: \"image/*\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                                            lineNumber: 195,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        uploadedImage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"tw-text-sm tw-text-gray-600 tw-flex-1\",\n                                            children: [\n                                                \"Selected: \",\n                                                uploadedImage.name\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                                            lineNumber: 203,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                                    lineNumber: 188,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"tw-text-xs tw-text-gray-500 tw-mt-1\",\n                                    children: \"Supported formats: JPG, PNG, GIF, WebP (max 5MB)\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                                    lineNumber: 208,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                            lineNumber: 184,\n                            columnNumber: 11\n                        }, undefined),\n                        previewUrl && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"tw-mb-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"tw-block tw-text-sm tw-font-medium tw-text-gray-700 tw-mb-2\",\n                                    children: \"Preview\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                                    lineNumber: 216,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"tw-border tw-border-gray-200 tw-rounded-lg tw-p-4 tw-bg-gray-50\",\n                                    children: imageLoadError ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"tw-flex tw-items-center tw-justify-center tw-h-48 tw-bg-red-50 tw-border tw-border-red-200 tw-rounded-lg\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"tw-text-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"tw-text-red-400 tw-text-4xl tw-mb-2\",\n                                                    children: \"⚠️\"\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                                                    lineNumber: 223,\n                                                    columnNumber: 23\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"tw-text-red-600 tw-text-sm tw-font-medium\",\n                                                    children: \"Failed to load image\"\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                                                    lineNumber: 224,\n                                                    columnNumber: 23\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"tw-text-red-500 tw-text-xs tw-mt-1\",\n                                                    children: \"Please check the URL or try a different image\"\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                                                    lineNumber: 225,\n                                                    columnNumber: 23\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                                            lineNumber: 222,\n                                            columnNumber: 21\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                                        lineNumber: 221,\n                                        columnNumber: 19\n                                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"tw-flex tw-justify-center\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                            src: previewUrl,\n                                            alt: \"Preview\",\n                                            className: \"tw-max-w-full tw-max-h-64 tw-object-contain tw-rounded-lg tw-shadow-sm\",\n                                            onError: handleImageLoadError,\n                                            onLoad: ()=>setImageLoadError(false)\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                                            lineNumber: 230,\n                                            columnNumber: 21\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                                        lineNumber: 229,\n                                        columnNumber: 19\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                                    lineNumber: 219,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                            lineNumber: 215,\n                            columnNumber: 13\n                        }, undefined),\n                        (imageUrl || uploadedImage) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"tw-mb-6\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"tw-text-sm tw-text-gray-500 hover:tw-text-gray-700 tw-underline\",\n                                onClick: clearAll,\n                                children: \"Clear all\"\n                            }, void 0, false, {\n                                fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                                lineNumber: 246,\n                                columnNumber: 15\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                            lineNumber: 245,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                    lineNumber: 161,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"tw-flex tw-justify-end tw-gap-3 tw-p-6 tw-border-t tw-bg-gray-50\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"tw-bg-gray-200 hover:tw-bg-gray-300 tw-text-gray-800 tw-rounded-lg tw-px-6 tw-py-2 tw-font-medium tw-transition-colors\",\n                            onClick: handleModalClose,\n                            children: \"Cancel\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                            lineNumber: 258,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"tw-bg-purple-600 hover:tw-bg-purple-700 disabled:tw-bg-gray-300 disabled:tw-text-gray-500 tw-text-white tw-rounded-lg tw-px-6 tw-py-2 tw-font-medium tw-transition-colors\",\n                            onClick: handleImageInsert,\n                            disabled: !imageUrl && !uploadedImage || imageLoadError,\n                            children: \"Insert Image\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                            lineNumber: 264,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                    lineNumber: 257,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n            lineNumber: 149,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n        lineNumber: 148,\n        columnNumber: 5\n    }, undefined);\n};\n// Alignment Floater Component\nconst ImageAlignmentFloater = ({ wrapper, img, onClose, handleChange })=>{\n    const [position, setPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        top: 0,\n        left: 0\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ImageAlignmentFloater.useEffect\": ()=>{\n            if (wrapper && img) {\n                const wrapperRect = wrapper.getBoundingClientRect();\n                const editorElement = wrapper.closest('[contenteditable]');\n                if (editorElement) {\n                    const editorRect = editorElement.getBoundingClientRect();\n                    // Position floater above the image\n                    setPosition({\n                        top: wrapperRect.top - editorRect.top - 50,\n                        left: wrapperRect.left - editorRect.left\n                    });\n                }\n            }\n        }\n    }[\"ImageAlignmentFloater.useEffect\"], [\n        wrapper,\n        img\n    ]);\n    const handleAlignment = (e, alignment)=>{\n        e.preventDefault();\n        e.stopPropagation();\n        if (!wrapper || !img) return;\n        // Remove existing alignment classes\n        wrapper.classList.remove('image-align-left', 'image-align-center', 'image-align-right');\n        // Apply new alignment\n        switch(alignment){\n            case 'left':\n                wrapper.classList.add('image-align-left');\n                wrapper.style.display = 'block';\n                wrapper.style.textAlign = 'left';\n                wrapper.style.marginLeft = '0';\n                wrapper.style.marginRight = 'auto';\n                break;\n            case 'center':\n                wrapper.classList.add('image-align-center');\n                wrapper.style.display = 'block';\n                wrapper.style.textAlign = 'center';\n                wrapper.style.marginLeft = 'auto';\n                wrapper.style.marginRight = 'auto';\n                break;\n            case 'right':\n                wrapper.classList.add('image-align-right');\n                wrapper.style.display = 'block';\n                wrapper.style.textAlign = 'right';\n                wrapper.style.marginLeft = 'auto';\n                wrapper.style.marginRight = '0';\n                break;\n            default:\n                wrapper.style.display = 'inline-block';\n                wrapper.style.textAlign = '';\n                wrapper.style.marginLeft = '';\n                wrapper.style.marginRight = '';\n        }\n        // Trigger change event\n        if (handleChange) {\n            handleChange();\n        }\n    };\n    const getCurrentAlignment = ()=>{\n        if (!wrapper) return 'none';\n        if (wrapper.classList.contains('image-align-left')) return 'left';\n        if (wrapper.classList.contains('image-align-center')) return 'center';\n        if (wrapper.classList.contains('image-align-right')) return 'right';\n        return 'none';\n    };\n    const currentAlignment = getCurrentAlignment();\n    const handleFloaterClose = (e)=>{\n        e.preventDefault();\n        e.stopPropagation();\n        onClose();\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"image-alignment-floater\",\n        style: {\n            position: 'absolute',\n            top: `${position.top}px`,\n            left: `${position.left}px`,\n            zIndex: 1000,\n            backgroundColor: 'white',\n            border: '1px solid #ccc',\n            borderRadius: '6px',\n            padding: '8px',\n            boxShadow: '0 2px 10px rgba(0,0,0,0.1)',\n            display: 'flex',\n            gap: '4px',\n            alignItems: 'center'\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                style: {\n                    fontSize: '12px',\n                    color: '#666',\n                    marginRight: '4px'\n                },\n                children: \"Align:\"\n            }, void 0, false, {\n                fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                lineNumber: 382,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: (e)=>handleAlignment(e, 'left'),\n                style: {\n                    padding: '4px 8px',\n                    border: '1px solid #ddd',\n                    borderRadius: '3px',\n                    backgroundColor: currentAlignment === 'left' ? '#800080' : 'white',\n                    color: currentAlignment === 'left' ? 'white' : '#333',\n                    fontSize: '12px',\n                    cursor: 'pointer'\n                },\n                title: \"Align Left\",\n                children: \"←\"\n            }, void 0, false, {\n                fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                lineNumber: 384,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: (e)=>handleAlignment(e, 'center'),\n                style: {\n                    padding: '4px 8px',\n                    border: '1px solid #ddd',\n                    borderRadius: '3px',\n                    backgroundColor: currentAlignment === 'center' ? '#800080' : 'white',\n                    color: currentAlignment === 'center' ? 'white' : '#333',\n                    fontSize: '12px',\n                    cursor: 'pointer'\n                },\n                title: \"Align Center\",\n                children: \"↔\"\n            }, void 0, false, {\n                fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                lineNumber: 400,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: (e)=>handleAlignment(e, 'right'),\n                style: {\n                    padding: '4px 8px',\n                    border: '1px solid #ddd',\n                    borderRadius: '3px',\n                    backgroundColor: currentAlignment === 'right' ? '#800080' : 'white',\n                    color: currentAlignment === 'right' ? 'white' : '#333',\n                    fontSize: '12px',\n                    cursor: 'pointer'\n                },\n                title: \"Align Right\",\n                children: \"→\"\n            }, void 0, false, {\n                fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                lineNumber: 416,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: (e)=>handleAlignment(e, 'none'),\n                style: {\n                    padding: '4px 8px',\n                    border: '1px solid #ddd',\n                    borderRadius: '3px',\n                    backgroundColor: currentAlignment === 'none' ? '#800080' : 'white',\n                    color: currentAlignment === 'none' ? 'white' : '#333',\n                    fontSize: '12px',\n                    cursor: 'pointer'\n                },\n                title: \"No Alignment\",\n                children: \"\\xd7\"\n            }, void 0, false, {\n                fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                lineNumber: 432,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: handleFloaterClose,\n                style: {\n                    padding: '2px 6px',\n                    border: '1px solid #ddd',\n                    borderRadius: '3px',\n                    backgroundColor: 'white',\n                    color: '#666',\n                    fontSize: '12px',\n                    cursor: 'pointer',\n                    marginLeft: '4px'\n                },\n                title: \"Close\",\n                children: \"✕\"\n            }, void 0, false, {\n                fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n                lineNumber: 448,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"D:\\\\Latihan\\\\New folder (2)\\\\FE\\\\1\\\\FE\\\\Next\\\\futuredu\\\\components\\\\supereditor\\\\Toolbars\\\\Images\\\\Images.tsx\",\n        lineNumber: 365,\n        columnNumber: 5\n    }, undefined);\n};\n// Helper functions for image operations\nconst setupImageResizeHandlers = (editorRef, handleChange)=>{\n    if (!editorRef.current) return;\n    // Remove any existing alignment floaters\n    const existingFloaters = editorRef.current.querySelectorAll('.image-alignment-floater');\n    existingFloaters.forEach((floater)=>floater.remove());\n    // Find all images in the editor\n    const images = editorRef.current.querySelectorAll('img.resizable-image');\n    // Setup resize functionality for each image\n    images.forEach((img)=>{\n        // Skip if this image already has resize handlers\n        if (img.dataset.resizable === 'true') return;\n        img.dataset.resizable = 'true';\n        // Add wrapper div around the image for better positioning of handles\n        const wrapper = document.createElement('div');\n        wrapper.className = 'image-resize-wrapper';\n        wrapper.style.position = 'relative';\n        wrapper.style.display = 'inline-block';\n        wrapper.style.maxWidth = '100%';\n        // Replace the image with the wrapper containing the image\n        if (img.parentNode) {\n            img.parentNode.insertBefore(wrapper, img);\n            wrapper.appendChild(img);\n        }\n        // Reset some image properties\n        img.style.border = '1px solid transparent';\n        img.style.boxSizing = 'border-box';\n        img.style.maxWidth = '100%';\n        // Add click handler to select the image\n        wrapper.addEventListener('click', (e)=>{\n            e.preventDefault();\n            e.stopPropagation();\n            // Check if we clicked on the image or wrapper\n            if (e.target === img || e.target === wrapper) {\n                // Remove any existing alignment floaters\n                const existingFloaters = editorRef.current.querySelectorAll('.image-alignment-floater');\n                existingFloaters.forEach((floater)=>floater.remove());\n                // Deselect any previously selected images\n                const selectedWrappers = editorRef.current.querySelectorAll('.image-wrapper-selected');\n                selectedWrappers.forEach((selectedWrapper)=>{\n                    selectedWrapper.classList.remove('image-wrapper-selected');\n                    const selectedImg = selectedWrapper.querySelector('img');\n                    if (selectedImg) selectedImg.style.border = '1px solid transparent';\n                    // Remove resize handles\n                    const handles = selectedWrapper.querySelectorAll('.resize-handle');\n                    handles.forEach((handle)=>handle.remove());\n                });\n                // Select this image\n                wrapper.classList.add('image-wrapper-selected');\n                img.style.border = '2px solid #800080';\n                // Create resize handles\n                createResizeHandles(wrapper, img, handleChange);\n                // Create alignment floater with improved positioning and event handling\n                createAlignmentFloater(wrapper, img, editorRef, handleChange);\n            }\n        });\n    });\n    // Add click handler to the editor to deselect images when clicking elsewhere\n    const deselect = (e)=>{\n        e.preventDefault();\n        e.stopPropagation();\n        const target = e.target;\n        // Check if we clicked on floater or its children\n        const isFloaterClick = target.closest('.image-alignment-floater');\n        // If we clicked on the editor but not on an image, handle, or floater\n        if (!isFloaterClick && target !== editorRef.current && !target.classList.contains('resize-handle') && !target.classList.contains('resizable-image') && !target.classList.contains('image-resize-wrapper')) {\n            // Remove alignment floaters\n            const existingFloaters = editorRef.current.querySelectorAll('.image-alignment-floater');\n            existingFloaters.forEach((floater)=>floater.remove());\n            // Deselect all selected wrappers\n            const selectedWrappers = editorRef.current.querySelectorAll('.image-wrapper-selected');\n            selectedWrappers.forEach((selectedWrapper)=>{\n                selectedWrapper.classList.remove('image-wrapper-selected');\n                const selectedImg = selectedWrapper.querySelector('img');\n                if (selectedImg) selectedImg.style.border = '1px solid transparent';\n                // Remove resize handles\n                const handles = selectedWrapper.querySelectorAll('.resize-handle');\n                handles.forEach((handle)=>handle.remove());\n            });\n        }\n    };\n    // Remove any existing event listener to prevent duplicates\n    editorRef.current.removeEventListener('click', deselect);\n    editorRef.current.addEventListener('click', deselect);\n};\n// Create alignment floater - FIXED VERSION\nconst createAlignmentFloater = (wrapper, img, editorRef, handleChange)=>{\n    if (!editorRef.current) return null;\n    // Remove any existing floaters\n    const existingFloaters = editorRef.current.querySelectorAll('.image-alignment-floater');\n    existingFloaters.forEach((floater)=>floater.remove());\n    // Create floater container\n    const floater = document.createElement('div');\n    floater.className = 'image-alignment-floater';\n    // Calculate position for floater with better positioning logic\n    const calculatePosition = ()=>{\n        const wrapperRect = wrapper.getBoundingClientRect();\n        const editorRect = editorRef.current.getBoundingClientRect();\n        let top = wrapperRect.top - editorRect.top - 50;\n        let left = wrapperRect.left - editorRect.left;\n        // Ensure floater doesn't go outside editor bounds\n        const floaterWidth = 200; // approximate width\n        if (left + floaterWidth > editorRef.current.offsetWidth) {\n            left = wrapperRect.right - editorRect.left - floaterWidth;\n        }\n        if (left < 0) left = 5;\n        if (top < 0) top = wrapperRect.bottom - editorRect.top + 10;\n        return {\n            top,\n            left\n        };\n    };\n    const position = calculatePosition();\n    // Style the floater with better z-index and positioning\n    Object.assign(floater.style, {\n        position: 'absolute',\n        top: `${position.top}px`,\n        left: `${position.left}px`,\n        zIndex: '9999',\n        backgroundColor: 'white',\n        border: '1px solid #ccc',\n        borderRadius: '6px',\n        padding: '8px',\n        boxShadow: '0 4px 12px rgba(0,0,0,0.15)',\n        display: 'flex',\n        gap: '4px',\n        alignItems: 'center',\n        fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\n        userSelect: 'none',\n        pointerEvents: 'auto' // Ensure pointer events work\n    });\n    // Prevent floater from being deselected when clicked\n    floater.addEventListener('mousedown', (e)=>{\n        e.preventDefault();\n        e.stopPropagation();\n    });\n    floater.addEventListener('click', (e)=>{\n        e.preventDefault();\n        e.stopPropagation();\n    });\n    // Create alignment buttons\n    const alignments = [\n        {\n            key: 'left',\n            symbol: '←',\n            title: 'Align Left'\n        },\n        {\n            key: 'center',\n            symbol: '↔',\n            title: 'Align Center'\n        },\n        {\n            key: 'right',\n            symbol: '→',\n            title: 'Align Right'\n        },\n        {\n            key: 'none',\n            symbol: '×',\n            title: 'No Alignment'\n        }\n    ];\n    // Add label\n    const label = document.createElement('span');\n    label.textContent = 'Align:';\n    label.style.fontSize = '12px';\n    label.style.color = '#666';\n    label.style.marginRight = '4px';\n    label.style.fontWeight = '500';\n    floater.appendChild(label);\n    // Get current alignment\n    const getCurrentAlignment = ()=>{\n        if (wrapper.classList.contains('image-align-left')) return 'left';\n        if (wrapper.classList.contains('image-align-center')) return 'center';\n        if (wrapper.classList.contains('image-align-right')) return 'right';\n        return 'none';\n    };\n    // Handle alignment change\n    const handleAlignment = (alignment)=>{\n        // Remove existing alignment classes\n        wrapper.classList.remove('image-align-left', 'image-align-center', 'image-align-right');\n        // Apply new alignment\n        switch(alignment){\n            case 'left':\n                wrapper.classList.add('image-align-left');\n                wrapper.style.display = 'block';\n                wrapper.style.textAlign = 'left';\n                wrapper.style.marginLeft = '0';\n                wrapper.style.marginRight = 'auto';\n                wrapper.style.width = 'fit-content';\n                break;\n            case 'center':\n                wrapper.classList.add('image-align-center');\n                wrapper.style.display = 'block';\n                wrapper.style.textAlign = 'center';\n                wrapper.style.marginLeft = 'auto';\n                wrapper.style.marginRight = 'auto';\n                wrapper.style.width = 'fit-content';\n                break;\n            case 'right':\n                wrapper.classList.add('image-align-right');\n                wrapper.style.display = 'block';\n                wrapper.style.textAlign = 'right';\n                wrapper.style.marginLeft = 'auto';\n                wrapper.style.marginRight = '0';\n                wrapper.style.width = 'fit-content';\n                break;\n            default:\n                wrapper.style.display = 'inline-block';\n                wrapper.style.textAlign = '';\n                wrapper.style.marginLeft = '';\n                wrapper.style.marginRight = '';\n                wrapper.style.width = '';\n        }\n        // Update button states\n        updateButtonStates();\n        // Trigger change event\n        if (handleChange) {\n            handleChange();\n        }\n    };\n    const updateButtonStates = ()=>{\n        const currentAlignment = getCurrentAlignment();\n        alignmentButtons.forEach((button)=>{\n            if (button.dataset.alignment === currentAlignment) {\n                button.style.backgroundColor = '#800080';\n                button.style.color = 'white';\n                button.style.borderColor = '#800080';\n            } else {\n                button.style.backgroundColor = 'white';\n                button.style.color = '#333';\n                button.style.borderColor = '#ddd';\n            }\n        });\n    };\n    // Create alignment buttons with better event handling\n    const alignmentButtons = [];\n    alignments.forEach(({ key, symbol, title })=>{\n        const button = document.createElement('button');\n        button.textContent = symbol;\n        button.title = title;\n        button.dataset.alignment = key;\n        button.type = 'button'; // Prevent form submission\n        Object.assign(button.style, {\n            padding: '6px 10px',\n            border: '1px solid #ddd',\n            borderRadius: '4px',\n            fontSize: '14px',\n            cursor: 'pointer',\n            backgroundColor: 'white',\n            color: '#333',\n            minWidth: '32px',\n            transition: 'all 0.2s ease',\n            userSelect: 'none'\n        });\n        // Hover effects\n        button.addEventListener('mouseenter', ()=>{\n            if (button.dataset.alignment !== getCurrentAlignment()) {\n                button.style.backgroundColor = '#f5f5f5';\n                button.style.borderColor = '#999';\n            }\n        });\n        button.addEventListener('mouseleave', ()=>{\n            if (button.dataset.alignment !== getCurrentAlignment()) {\n                button.style.backgroundColor = 'white';\n                button.style.borderColor = '#ddd';\n            }\n        });\n        // Click handler with proper event handling\n        button.addEventListener('mousedown', (e)=>{\n            e.preventDefault();\n            e.stopPropagation();\n        });\n        button.addEventListener('click', (e)=>{\n            e.preventDefault();\n            e.stopPropagation();\n            handleAlignment(key);\n        });\n        alignmentButtons.push(button);\n        floater.appendChild(button);\n    });\n    // Create close button\n    const closeButton = document.createElement('button');\n    closeButton.textContent = '✕';\n    closeButton.title = 'Close';\n    closeButton.type = 'button';\n    Object.assign(closeButton.style, {\n        padding: '4px 8px',\n        border: '1px solid #ddd',\n        borderRadius: '4px',\n        backgroundColor: 'white',\n        color: '#666',\n        fontSize: '12px',\n        cursor: 'pointer',\n        marginLeft: '8px',\n        minWidth: '24px',\n        transition: 'all 0.2s ease'\n    });\n    closeButton.addEventListener('mouseenter', ()=>{\n        closeButton.style.backgroundColor = '#f5f5f5';\n        closeButton.style.color = '#333';\n    });\n    closeButton.addEventListener('mouseleave', ()=>{\n        closeButton.style.backgroundColor = 'white';\n        closeButton.style.color = '#666';\n    });\n    closeButton.addEventListener('mousedown', (e)=>{\n        e.preventDefault();\n        e.stopPropagation();\n    });\n    closeButton.addEventListener('click', (e)=>{\n        e.preventDefault();\n        e.stopPropagation();\n        floater.remove();\n    });\n    floater.appendChild(closeButton);\n    // Update initial button states\n    updateButtonStates();\n    // Add floater to editor with proper insertion\n    editorRef.current.style.position = 'relative'; // Ensure editor has relative positioning\n    editorRef.current.appendChild(floater);\n    // Return floater reference for potential cleanup\n    return floater;\n};\nconst createResizeHandles = (wrapper, img, handleChange)=>{\n    // Remove any existing handles\n    const existingHandles = wrapper.querySelectorAll('.resize-handle');\n    existingHandles.forEach((handle)=>handle.remove());\n    // Create handle positions: corners and centers of each side\n    const positions = [\n        'nw',\n        'n',\n        'ne',\n        'e',\n        'se',\n        's',\n        'sw',\n        'w'\n    ];\n    // Define cursor styles for each handle position\n    const cursors = {\n        'nw': 'nwse-resize',\n        'n': 'ns-resize',\n        'ne': 'nesw-resize',\n        'e': 'ew-resize',\n        'se': 'nwse-resize',\n        's': 'ns-resize',\n        'sw': 'nesw-resize',\n        'w': 'ew-resize'\n    };\n    positions.forEach((pos)=>{\n        const handle = document.createElement('div');\n        handle.className = `resize-handle resize-handle-${pos}`;\n        handle.style.position = 'absolute';\n        handle.style.width = '8px';\n        handle.style.height = '8px';\n        handle.style.backgroundColor = '#800080';\n        handle.style.borderRadius = '50%';\n        handle.style.zIndex = '100';\n        handle.style.cursor = cursors[pos];\n        // Position the handle\n        // All coordinates need to be calculated based on the image dimensions\n        const imgWidth = img.offsetWidth;\n        const imgHeight = img.offsetHeight;\n        positionHandle(handle, pos, imgWidth, imgHeight);\n        // Add resize functionality\n        handle.addEventListener('mousedown', (e)=>{\n            e.preventDefault();\n            e.stopPropagation();\n            // Get initial positions and sizes\n            const startX = e.clientX;\n            const startY = e.clientY;\n            const startWidth = img.offsetWidth;\n            const startHeight = img.offsetHeight;\n            const startTop = img.offsetTop;\n            const startLeft = img.offsetLeft;\n            const imgRatio = startWidth / startHeight;\n            // Create mousemove and mouseup handlers\n            const onMouseMove = (moveEvent)=>{\n                moveEvent.preventDefault();\n                // Calculate movement deltas\n                const deltaX = moveEvent.clientX - startX;\n                const deltaY = moveEvent.clientY - startY;\n                // Calculate new width and height based on drag direction\n                let newWidth = startWidth;\n                let newHeight = startHeight;\n                // Apply different resize logic based on handle position\n                switch(pos){\n                    case 'e':\n                        newWidth = startWidth + deltaX;\n                        newHeight = startHeight; // Keep height unchanged\n                        break;\n                    case 'w':\n                        newWidth = startWidth - deltaX;\n                        newHeight = startHeight; // Keep height unchanged\n                        break;\n                    case 'n':\n                        newHeight = startHeight - deltaY;\n                        newWidth = startWidth; // Keep width unchanged\n                        break;\n                    case 's':\n                        newHeight = startHeight + deltaY;\n                        newWidth = startWidth; // Keep width unchanged\n                        break;\n                    case 'nw':\n                        newWidth = startWidth - deltaX;\n                        newHeight = startHeight - deltaY;\n                        break;\n                    case 'ne':\n                        newWidth = startWidth + deltaX;\n                        newHeight = startHeight - deltaY;\n                        break;\n                    case 'se':\n                        newWidth = startWidth + deltaX;\n                        newHeight = startHeight + deltaY;\n                        break;\n                    case 'sw':\n                        newWidth = startWidth - deltaX;\n                        newHeight = startHeight + deltaY;\n                        break;\n                }\n                // Apply minimum constraints\n                if (newWidth >= 30) {\n                    img.style.width = `${newWidth}px`;\n                }\n                if (newHeight >= 30) {\n                    img.style.height = `${newHeight}px`;\n                }\n                // Update handle positions after resize\n                updateHandlePositions(wrapper, img);\n            };\n            const onMouseUp = ()=>{\n                // Remove event listeners\n                document.removeEventListener('mousemove', onMouseMove);\n                document.removeEventListener('mouseup', onMouseUp);\n                // Update editor content\n                handleChange();\n            };\n            // Add event listeners\n            document.addEventListener('mousemove', onMouseMove);\n            document.addEventListener('mouseup', onMouseUp);\n        });\n        // Add handle to wrapper\n        wrapper.appendChild(handle);\n    });\n};\n// Helper function to position handle based on position code\nconst positionHandle = (handle, pos, imgWidth, imgHeight)=>{\n    switch(pos){\n        case 'nw':\n            handle.style.top = '-4px';\n            handle.style.left = '-4px';\n            break;\n        case 'n':\n            handle.style.top = '-4px';\n            handle.style.left = `calc(50% - 4px)`;\n            break;\n        case 'ne':\n            handle.style.top = '-4px';\n            handle.style.right = '-4px';\n            break;\n        case 'e':\n            handle.style.top = `calc(50% - 4px)`;\n            handle.style.right = '-4px';\n            break;\n        case 'se':\n            handle.style.bottom = '-4px';\n            handle.style.right = '-4px';\n            break;\n        case 's':\n            handle.style.bottom = '-4px';\n            handle.style.left = `calc(50% - 4px)`;\n            break;\n        case 'sw':\n            handle.style.bottom = '-4px';\n            handle.style.left = '-4px';\n            break;\n        case 'w':\n            handle.style.top = `calc(50% - 4px)`;\n            handle.style.left = '-4px';\n            break;\n    }\n};\n// Helper function to update all handle positions after resize\nconst updateHandlePositions = (wrapper, img)=>{\n    const handles = wrapper.querySelectorAll('.resize-handle');\n    const imgWidth = img.offsetWidth;\n    const imgHeight = img.offsetHeight;\n    handles.forEach((handle)=>{\n        const pos = handle.className.split('resize-handle-')[1];\n        positionHandle(handle, pos, imgWidth, imgHeight);\n    });\n};\n// Function to handle image insertion in the editor\nconst handleImageInsertion = ({ imageUrl, uploadedImage }, execCommand)=>{\n    if (imageUrl) {\n        const imgHtml = `<img src=\"${imageUrl}\" alt=\"Inserted Image\" style=\"max-width: 100%;\" class=\"resizable-image\" />`;\n        execCommand('insertHTML', imgHtml);\n        return true;\n    } else if (uploadedImage) {\n        const reader = new FileReader();\n        reader.onload = (e)=>{\n            if (e.target?.result) {\n                const imgHtml = `<img src=\"${e.target.result}\" alt=\"Uploaded Image\" style=\"max-width: 100%;\" class=\"resizable-image\" />`;\n                execCommand('insertHTML', imgHtml);\n            }\n        };\n        reader.readAsDataURL(uploadedImage);\n        return true;\n    }\n    return false;\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ImageModal);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvc3VwZXJlZGl0b3IvVG9vbGJhcnMvSW1hZ2VzL0ltYWdlcy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBRXNFO0FBMEJ0RSw0QkFBNEI7QUFDNUIsTUFBTUksYUFBd0MsQ0FBQyxFQUM3Q0MsTUFBTSxFQUNOQyxPQUFPLEVBQ1BDLFFBQVEsRUFDVDtJQUNDLE1BQU1DLGVBQWVQLDZDQUFNQSxDQUFtQjtJQUM5QyxNQUFNLENBQUNRLFVBQVVDLFlBQVksR0FBR1IsK0NBQVFBLENBQVM7SUFDakQsTUFBTSxDQUFDUyxlQUFlQyxpQkFBaUIsR0FBR1YsK0NBQVFBLENBQWM7SUFDaEUsTUFBTSxDQUFDVyxZQUFZQyxjQUFjLEdBQUdaLCtDQUFRQSxDQUFTO0lBQ3JELE1BQU0sQ0FBQ2EsZ0JBQWdCQyxrQkFBa0IsR0FBR2QsK0NBQVFBLENBQVU7SUFFOUQsa0NBQWtDO0lBQ2xDQyxnREFBU0E7Z0NBQUM7WUFDUixJQUFJTSxTQUFTUSxJQUFJLElBQUk7Z0JBQ25CSCxjQUFjTDtnQkFDZE8sa0JBQWtCO1lBQ3BCLE9BQU87Z0JBQ0xGLGNBQWM7Z0JBQ2RFLGtCQUFrQjtZQUNwQjtRQUNGOytCQUFHO1FBQUNQO0tBQVM7SUFFYiwwQ0FBMEM7SUFDMUNOLGdEQUFTQTtnQ0FBQztZQUNSLElBQUlRLGVBQWU7Z0JBQ2pCLE1BQU1PLFNBQVMsSUFBSUM7Z0JBQ25CRCxPQUFPRSxNQUFNOzRDQUFHLENBQUNDO3dCQUNmLElBQUlBLEVBQUVDLE1BQU0sRUFBRUMsUUFBUTs0QkFDcEJULGNBQWNPLEVBQUVDLE1BQU0sQ0FBQ0MsTUFBTTs0QkFDN0JQLGtCQUFrQjt3QkFDcEI7b0JBQ0Y7O2dCQUNBRSxPQUFPTSxhQUFhLENBQUNiO1lBQ3ZCLE9BQU8sSUFBSSxDQUFDRixTQUFTUSxJQUFJLElBQUk7Z0JBQzNCSCxjQUFjO2dCQUNkRSxrQkFBa0I7WUFDcEI7UUFDRjsrQkFBRztRQUFDTDtRQUFlRjtLQUFTO0lBRTVC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RCxXQUFXakcsSUFBSXVFLFdBQVc7SUFDaEMsTUFBTTJCLFlBQVlsRyxJQUFJbUcsWUFBWTtJQUVsQ3JDLFFBQVFqQixPQUFPLENBQUMsQ0FBQ2tCO1FBQ2YsTUFBTWdDLE1BQU1oQyxPQUFPL0UsU0FBUyxDQUFDd0ksS0FBSyxDQUFDLGlCQUFpQixDQUFDLEVBQUU7UUFDdkRwQixlQUFlckMsUUFBUWdDLEtBQUtFLFVBQVVDO0lBQ3hDO0FBQ0Y7QUFFQSxtREFBbUQ7QUFDNUMsTUFBTXVCLHVCQUF1QixDQUNsQyxFQUFFN0ssUUFBUSxFQUFFRSxhQUFhLEVBQXNCLEVBQy9DNEs7SUFFQSxJQUFJOUssVUFBVTtRQUNaLE1BQU0rSyxVQUFVLENBQUMsVUFBVSxFQUFFL0ssU0FBUywwRUFBMEUsQ0FBQztRQUNqSDhLLFlBQVksY0FBY0M7UUFDMUIsT0FBTztJQUNULE9BQU8sSUFBSTdLLGVBQWU7UUFDeEIsTUFBTU8sU0FBUyxJQUFJQztRQUNuQkQsT0FBT0UsTUFBTSxHQUFHLENBQUNDO1lBQ2YsSUFBSUEsRUFBRUMsTUFBTSxFQUFFQyxRQUFRO2dCQUNwQixNQUFNaUssVUFBVSxDQUFDLFVBQVUsRUFBRW5LLEVBQUVDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDLDBFQUEwRSxDQUFDO2dCQUN4SGdLLFlBQVksY0FBY0M7WUFDNUI7UUFDRjtRQUNBdEssT0FBT00sYUFBYSxDQUFDYjtRQUNyQixPQUFPO0lBQ1Q7SUFDQSxPQUFPO0FBQ1QsRUFBRTtBQUVGLGlFQUFlUCxVQUFVQSxFQUFDO0FBQ08iLCJzb3VyY2VzIjpbIkQ6XFxMYXRpaGFuXFxOZXcgZm9sZGVyICgyKVxcRkVcXDFcXEZFXFxOZXh0XFxmdXR1cmVkdVxcY29tcG9uZW50c1xcc3VwZXJlZGl0b3JcXFRvb2xiYXJzXFxJbWFnZXNcXEltYWdlcy50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xyXG5cclxuaW1wb3J0IFJlYWN0LCB7IHVzZVJlZiwgdXNlU3RhdGUsIHVzZUVmZmVjdCwgUmVmT2JqZWN0IH0gZnJvbSAncmVhY3QnO1xyXG5cclxuLy8gVHlwZXNcclxuaW50ZXJmYWNlIEltYWdlTW9kYWxQcm9wcyB7XHJcbiAgaXNPcGVuOiBib29sZWFuO1xyXG4gIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XHJcbiAgb25JbnNlcnQ6IChkYXRhOiB7IGltYWdlVXJsPzogc3RyaW5nOyB1cGxvYWRlZEltYWdlPzogRmlsZSB9KSA9PiB2b2lkO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgSW1hZ2VBbGlnbm1lbnRGbG9hdGVyUHJvcHMge1xyXG4gIHdyYXBwZXI6IEhUTUxFbGVtZW50O1xyXG4gIGltZzogSFRNTEltYWdlRWxlbWVudDtcclxuICBvbkNsb3NlOiAoKSA9PiB2b2lkO1xyXG4gIGhhbmRsZUNoYW5nZTogKCkgPT4gdm9pZDtcclxufVxyXG5cclxuaW50ZXJmYWNlIFBvc2l0aW9uIHtcclxuICB0b3A6IG51bWJlcjtcclxuICBsZWZ0OiBudW1iZXI7XHJcbn1cclxuXHJcbmludGVyZmFjZSBJbWFnZUluc2VydGlvbkRhdGEge1xyXG4gIGltYWdlVXJsPzogc3RyaW5nO1xyXG4gIHVwbG9hZGVkSW1hZ2U/OiBGaWxlO1xyXG59XHJcblxyXG4vLyBNYWluIEltYWdlTW9kYWwgQ29tcG9uZW50XHJcbmNvbnN0IEltYWdlTW9kYWw6IFJlYWN0LkZDPEltYWdlTW9kYWxQcm9wcz4gPSAoeyBcclxuICBpc09wZW4sIFxyXG4gIG9uQ2xvc2UsIFxyXG4gIG9uSW5zZXJ0IFxyXG59KSA9PiB7XHJcbiAgY29uc3QgZmlsZUlucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwpO1xyXG4gIGNvbnN0IFtpbWFnZVVybCwgc2V0SW1hZ2VVcmxdID0gdXNlU3RhdGU8c3RyaW5nPignJyk7XHJcbiAgY29uc3QgW3VwbG9hZGVkSW1hZ2UsIHNldFVwbG9hZGVkSW1hZ2VdID0gdXNlU3RhdGU8RmlsZSB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFtwcmV2aWV3VXJsLCBzZXRQcmV2aWV3VXJsXSA9IHVzZVN0YXRlPHN0cmluZz4oJycpO1xyXG4gIGNvbnN0IFtpbWFnZUxvYWRFcnJvciwgc2V0SW1hZ2VMb2FkRXJyb3JdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xyXG5cclxuICAvLyBFZmZlY3QgdW50dWsgcHJldmlldyBVUkwgZ2FtYmFyXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChpbWFnZVVybC50cmltKCkpIHtcclxuICAgICAgc2V0UHJldmlld1VybChpbWFnZVVybCk7XHJcbiAgICAgIHNldEltYWdlTG9hZEVycm9yKGZhbHNlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNldFByZXZpZXdVcmwoJycpO1xyXG4gICAgICBzZXRJbWFnZUxvYWRFcnJvcihmYWxzZSk7XHJcbiAgICB9XHJcbiAgfSwgW2ltYWdlVXJsXSk7XHJcblxyXG4gIC8vIEVmZmVjdCB1bnR1ayBwcmV2aWV3IGZpbGUgeWFuZyBkaXVwbG9hZFxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAodXBsb2FkZWRJbWFnZSkge1xyXG4gICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICByZWFkZXIub25sb2FkID0gKGU6IFByb2dyZXNzRXZlbnQ8RmlsZVJlYWRlcj4pID0+IHtcclxuICAgICAgICBpZiAoZS50YXJnZXQ/LnJlc3VsdCkge1xyXG4gICAgICAgICAgc2V0UHJldmlld1VybChlLnRhcmdldC5yZXN1bHQgYXMgc3RyaW5nKTtcclxuICAgICAgICAgIHNldEltYWdlTG9hZEVycm9yKGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKHVwbG9hZGVkSW1hZ2UpO1xyXG4gICAgfSBlbHNlIGlmICghaW1hZ2VVcmwudHJpbSgpKSB7XHJcbiAgICAgIHNldFByZXZpZXdVcmwoJycpO1xyXG4gICAgICBzZXRJbWFnZUxvYWRFcnJvcihmYWxzZSk7XHJcbiAgICB9XHJcbiAgfSwgW3VwbG9hZGVkSW1hZ2UsIGltYWdlVXJsXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZUZpbGVDaGFuZ2UgPSAoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcclxuICAgIGlmIChlLnRhcmdldC5maWxlcyAmJiBlLnRhcmdldC5maWxlc1swXSkge1xyXG4gICAgICBjb25zdCBmaWxlID0gZS50YXJnZXQuZmlsZXNbMF07XHJcbiAgICAgIFxyXG4gICAgICAvLyBWYWxpZGFzaSB0aXBlIGZpbGVcclxuICAgICAgaWYgKCFmaWxlLnR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykpIHtcclxuICAgICAgICBhbGVydCgnUGxlYXNlIHNlbGVjdCBhIHZhbGlkIGltYWdlIGZpbGUuJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBWYWxpZGFzaSB1a3VyYW4gZmlsZSAobWF4IDVNQilcclxuICAgICAgaWYgKGZpbGUuc2l6ZSA+IDUgKiAxMDI0ICogMTAyNCkge1xyXG4gICAgICAgIGFsZXJ0KCdGaWxlIHNpemUgbXVzdCBiZSBsZXNzIHRoYW4gNU1CLicpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgc2V0VXBsb2FkZWRJbWFnZShmaWxlKTtcclxuICAgICAgLy8gQ2xlYXIgVVJMIGlucHV0IHdoZW4gZmlsZSBpcyBzZWxlY3RlZFxyXG4gICAgICBzZXRJbWFnZVVybCgnJyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgdHJpZ2dlckZpbGVJbnB1dCA9IChlOiBSZWFjdC5Nb3VzZUV2ZW50KSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgZmlsZUlucHV0UmVmLmN1cnJlbnQ/LmNsaWNrKCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlSW1hZ2VJbnNlcnQgPSAoZTogUmVhY3QuTW91c2VFdmVudCkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIGlmIChpbWFnZVVybCB8fCB1cGxvYWRlZEltYWdlKSB7XHJcbiAgICAgIG9uSW5zZXJ0KHsgaW1hZ2VVcmwsIHVwbG9hZGVkSW1hZ2UgfSk7XHJcbiAgICAgIC8vIFJlc2V0IHRoZSBzdGF0ZSBhZnRlciBpbnNlcnRpb25cclxuICAgICAgc2V0SW1hZ2VVcmwoJycpO1xyXG4gICAgICBzZXRVcGxvYWRlZEltYWdlKG51bGwpO1xyXG4gICAgICBzZXRQcmV2aWV3VXJsKCcnKTtcclxuICAgICAgc2V0SW1hZ2VMb2FkRXJyb3IoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUltYWdlTG9hZEVycm9yID0gKCkgPT4ge1xyXG4gICAgc2V0SW1hZ2VMb2FkRXJyb3IodHJ1ZSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlVXJsQ2hhbmdlID0gKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XHJcbiAgICBjb25zdCB1cmwgPSBlLnRhcmdldC52YWx1ZTtcclxuICAgIHNldEltYWdlVXJsKHVybCk7XHJcbiAgICAvLyBDbGVhciB1cGxvYWRlZCBmaWxlIHdoZW4gVVJMIGlzIGVudGVyZWRcclxuICAgIGlmICh1cmwudHJpbSgpKSB7XHJcbiAgICAgIHNldFVwbG9hZGVkSW1hZ2UobnVsbCk7XHJcbiAgICAgIC8vIFJlc2V0IGZpbGUgaW5wdXRcclxuICAgICAgaWYgKGZpbGVJbnB1dFJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgZmlsZUlucHV0UmVmLmN1cnJlbnQudmFsdWUgPSAnJztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNsZWFyQWxsID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICBzZXRJbWFnZVVybCgnJyk7XHJcbiAgICBzZXRVcGxvYWRlZEltYWdlKG51bGwpO1xyXG4gICAgc2V0UHJldmlld1VybCgnJyk7XHJcbiAgICBzZXRJbWFnZUxvYWRFcnJvcihmYWxzZSk7XHJcbiAgICBpZiAoZmlsZUlucHV0UmVmLmN1cnJlbnQpIHtcclxuICAgICAgZmlsZUlucHV0UmVmLmN1cnJlbnQudmFsdWUgPSAnJztcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVNb2RhbENsb3NlID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICBvbkNsb3NlKCk7XHJcbiAgfTtcclxuXHJcbiAgaWYgKCFpc09wZW4pIHJldHVybiBudWxsO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJ0dy1maXhlZCB0dy1pbnNldC0wIHR3LWJnLWJsYWNrIHR3LWJnLW9wYWNpdHktNTAgdHctZmxleCB0dy1pdGVtcy1jZW50ZXIgdHctanVzdGlmeS1jZW50ZXIgdHctei01MFwiPlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInR3LWJnLXdoaXRlIHR3LXJvdW5kZWQtbGcgdHctc2hhZG93LXhsIHR3LW1heC13LTJ4bCB0dy13LWZ1bGwgdHctbWF4LWgtc2NyZWVuIHR3LW92ZXJmbG93LXktYXV0byB0dy1tLTRcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInR3LWZsZXggdHctanVzdGlmeS1iZXR3ZWVuIHR3LWl0ZW1zLWNlbnRlciB0dy1wLTYgdHctYm9yZGVyLWJcIj5cclxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0dy10ZXh0LXhsIHR3LWZvbnQtc2VtaWJvbGQgdHctdGV4dC1wdXJwbGUtNzAwXCI+SW5zZXJ0IEltYWdlPC9oMz5cclxuICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInR3LXRleHQtZ3JheS00MDAgaG92ZXI6dHctdGV4dC1ncmF5LTYwMCB0dy10ZXh0LTJ4bCB0dy1sZWFkaW5nLW5vbmVcIlxyXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVNb2RhbENsb3NlfVxyXG4gICAgICAgICAgICB0aXRsZT1cIkNsb3NlXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAg4pyVXHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICBcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInR3LXAtNlwiPlxyXG4gICAgICAgICAgey8qIFVSTCBJbnB1dCBTZWN0aW9uICovfVxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0dy1tYi02XCI+XHJcbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0dy1ibG9jayB0dy10ZXh0LXNtIHR3LWZvbnQtbWVkaXVtIHR3LXRleHQtZ3JheS03MDAgdHctbWItMlwiPlxyXG4gICAgICAgICAgICAgIEltYWdlIFVSTFxyXG4gICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICB0eXBlPVwidXJsXCJcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0dy1ib3JkZXIgdHctYm9yZGVyLWdyYXktMzAwIHR3LXJvdW5kZWQtbGcgdHctcC0zIHR3LXctZnVsbCBmb2N1czp0dy1yaW5nLTIgZm9jdXM6dHctcmluZy1wdXJwbGUtNTAwIGZvY3VzOnR3LWJvcmRlci1wdXJwbGUtNTAwIHR3LXRyYW5zaXRpb24tY29sb3JzXCJcclxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cImh0dHBzOi8vZXhhbXBsZS5jb20vaW1hZ2UuanBnXCJcclxuICAgICAgICAgICAgICB2YWx1ZT17aW1hZ2VVcmx9XHJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZVVybENoYW5nZX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICB7LyogRGl2aWRlciAqL31cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidHctZmxleCB0dy1pdGVtcy1jZW50ZXIgdHctbXktNlwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInR3LWZsZXgtMSB0dy1ib3JkZXItdCB0dy1ib3JkZXItZ3JheS0zMDBcIj48L2Rpdj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidHctcHgtNCB0dy10ZXh0LWdyYXktNTAwIHR3LXRleHQtc20gdHctZm9udC1tZWRpdW1cIj5PUjwvc3Bhbj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0dy1mbGV4LTEgdHctYm9yZGVyLXQgdHctYm9yZGVyLWdyYXktMzAwXCI+PC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgey8qIEZpbGUgVXBsb2FkIFNlY3Rpb24gKi99XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInR3LW1iLTZcIj5cclxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInR3LWJsb2NrIHR3LXRleHQtc20gdHctZm9udC1tZWRpdW0gdHctdGV4dC1ncmF5LTcwMCB0dy1tYi0yXCI+XHJcbiAgICAgICAgICAgICAgVXBsb2FkIEltYWdlXHJcbiAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidHctZmxleCB0dy1pdGVtcy1jZW50ZXIgdHctZ2FwLTNcIj5cclxuICAgICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidHctYmctd2hpdGUgdHctdGV4dC1wdXJwbGUtNzAwIHR3LWJvcmRlci0yIHR3LWJvcmRlci1wdXJwbGUtMzAwIGhvdmVyOnR3LWJvcmRlci1wdXJwbGUtNTAwIHR3LXJvdW5kZWQtbGcgdHctcHgtNCB0dy1weS0yIHR3LXRyYW5zaXRpb24tY29sb3JzIHR3LWZvbnQtbWVkaXVtXCJcclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RyaWdnZXJGaWxlSW5wdXR9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgQ2hvb3NlIEZpbGVcclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgIHR5cGU9XCJmaWxlXCJcclxuICAgICAgICAgICAgICAgIHJlZj17ZmlsZUlucHV0UmVmfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUZpbGVDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBkaXNwbGF5OiAnbm9uZScgfX1cclxuICAgICAgICAgICAgICAgIGFjY2VwdD1cImltYWdlLypcIlxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAge3VwbG9hZGVkSW1hZ2UgJiYgKFxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidHctdGV4dC1zbSB0dy10ZXh0LWdyYXktNjAwIHR3LWZsZXgtMVwiPlxyXG4gICAgICAgICAgICAgICAgICBTZWxlY3RlZDoge3VwbG9hZGVkSW1hZ2UubmFtZX1cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidHctdGV4dC14cyB0dy10ZXh0LWdyYXktNTAwIHR3LW10LTFcIj5cclxuICAgICAgICAgICAgICBTdXBwb3J0ZWQgZm9ybWF0czogSlBHLCBQTkcsIEdJRiwgV2ViUCAobWF4IDVNQilcclxuICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgey8qIFByZXZpZXcgU2VjdGlvbiAqL31cclxuICAgICAgICAgIHtwcmV2aWV3VXJsICYmIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0dy1tYi02XCI+XHJcbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInR3LWJsb2NrIHR3LXRleHQtc20gdHctZm9udC1tZWRpdW0gdHctdGV4dC1ncmF5LTcwMCB0dy1tYi0yXCI+XHJcbiAgICAgICAgICAgICAgICBQcmV2aWV3XHJcbiAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInR3LWJvcmRlciB0dy1ib3JkZXItZ3JheS0yMDAgdHctcm91bmRlZC1sZyB0dy1wLTQgdHctYmctZ3JheS01MFwiPlxyXG4gICAgICAgICAgICAgICAge2ltYWdlTG9hZEVycm9yID8gKFxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInR3LWZsZXggdHctaXRlbXMtY2VudGVyIHR3LWp1c3RpZnktY2VudGVyIHR3LWgtNDggdHctYmctcmVkLTUwIHR3LWJvcmRlciB0dy1ib3JkZXItcmVkLTIwMCB0dy1yb3VuZGVkLWxnXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0dy10ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0dy10ZXh0LXJlZC00MDAgdHctdGV4dC00eGwgdHctbWItMlwiPuKaoO+4jzwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidHctdGV4dC1yZWQtNjAwIHR3LXRleHQtc20gdHctZm9udC1tZWRpdW1cIj5GYWlsZWQgdG8gbG9hZCBpbWFnZTwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInR3LXRleHQtcmVkLTUwMCB0dy10ZXh0LXhzIHR3LW10LTFcIj5QbGVhc2UgY2hlY2sgdGhlIFVSTCBvciB0cnkgYSBkaWZmZXJlbnQgaW1hZ2U8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0dy1mbGV4IHR3LWp1c3RpZnktY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGltZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgc3JjPXtwcmV2aWV3VXJsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgYWx0PVwiUHJldmlld1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0dy1tYXgtdy1mdWxsIHR3LW1heC1oLTY0IHR3LW9iamVjdC1jb250YWluIHR3LXJvdW5kZWQtbGcgdHctc2hhZG93LXNtXCJcclxuICAgICAgICAgICAgICAgICAgICAgIG9uRXJyb3I9e2hhbmRsZUltYWdlTG9hZEVycm9yfVxyXG4gICAgICAgICAgICAgICAgICAgICAgb25Mb2FkPXsoKSA9PiBzZXRJbWFnZUxvYWRFcnJvcihmYWxzZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICl9XHJcblxyXG4gICAgICAgICAgey8qIENsZWFyIEJ1dHRvbiAqL31cclxuICAgICAgICAgIHsoaW1hZ2VVcmwgfHwgdXBsb2FkZWRJbWFnZSkgJiYgKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInR3LW1iLTZcIj5cclxuICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0dy10ZXh0LXNtIHR3LXRleHQtZ3JheS01MDAgaG92ZXI6dHctdGV4dC1ncmF5LTcwMCB0dy11bmRlcmxpbmVcIlxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17Y2xlYXJBbGx9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgQ2xlYXIgYWxsXHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgey8qIEFjdGlvbiBCdXR0b25zICovfVxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidHctZmxleCB0dy1qdXN0aWZ5LWVuZCB0dy1nYXAtMyB0dy1wLTYgdHctYm9yZGVyLXQgdHctYmctZ3JheS01MFwiPlxyXG4gICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidHctYmctZ3JheS0yMDAgaG92ZXI6dHctYmctZ3JheS0zMDAgdHctdGV4dC1ncmF5LTgwMCB0dy1yb3VuZGVkLWxnIHR3LXB4LTYgdHctcHktMiB0dy1mb250LW1lZGl1bSB0dy10cmFuc2l0aW9uLWNvbG9yc1wiXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZU1vZGFsQ2xvc2V9XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIENhbmNlbFxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ0dy1iZy1wdXJwbGUtNjAwIGhvdmVyOnR3LWJnLXB1cnBsZS03MDAgZGlzYWJsZWQ6dHctYmctZ3JheS0zMDAgZGlzYWJsZWQ6dHctdGV4dC1ncmF5LTUwMCB0dy10ZXh0LXdoaXRlIHR3LXJvdW5kZWQtbGcgdHctcHgtNiB0dy1weS0yIHR3LWZvbnQtbWVkaXVtIHR3LXRyYW5zaXRpb24tY29sb3JzXCJcclxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlSW1hZ2VJbnNlcnR9XHJcbiAgICAgICAgICAgIGRpc2FibGVkPXsoIWltYWdlVXJsICYmICF1cGxvYWRlZEltYWdlKSB8fCBpbWFnZUxvYWRFcnJvcn1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgSW5zZXJ0IEltYWdlXHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59O1xyXG5cclxuLy8gQWxpZ25tZW50IEZsb2F0ZXIgQ29tcG9uZW50XHJcbmNvbnN0IEltYWdlQWxpZ25tZW50RmxvYXRlcjogUmVhY3QuRkM8SW1hZ2VBbGlnbm1lbnRGbG9hdGVyUHJvcHM+ID0gKHsgXHJcbiAgd3JhcHBlciwgXHJcbiAgaW1nLCBcclxuICBvbkNsb3NlLCBcclxuICBoYW5kbGVDaGFuZ2UgXHJcbn0pID0+IHtcclxuICBjb25zdCBbcG9zaXRpb24sIHNldFBvc2l0aW9uXSA9IHVzZVN0YXRlPFBvc2l0aW9uPih7IHRvcDogMCwgbGVmdDogMCB9KTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICh3cmFwcGVyICYmIGltZykge1xyXG4gICAgICBjb25zdCB3cmFwcGVyUmVjdCA9IHdyYXBwZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgIGNvbnN0IGVkaXRvckVsZW1lbnQgPSB3cmFwcGVyLmNsb3Nlc3QoJ1tjb250ZW50ZWRpdGFibGVdJykgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgIGlmIChlZGl0b3JFbGVtZW50KSB7XHJcbiAgICAgICAgY29uc3QgZWRpdG9yUmVjdCA9IGVkaXRvckVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gUG9zaXRpb24gZmxvYXRlciBhYm92ZSB0aGUgaW1hZ2VcclxuICAgICAgICBzZXRQb3NpdGlvbih7XHJcbiAgICAgICAgICB0b3A6IHdyYXBwZXJSZWN0LnRvcCAtIGVkaXRvclJlY3QudG9wIC0gNTAsXHJcbiAgICAgICAgICBsZWZ0OiB3cmFwcGVyUmVjdC5sZWZ0IC0gZWRpdG9yUmVjdC5sZWZ0XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LCBbd3JhcHBlciwgaW1nXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZUFsaWdubWVudCA9IChlOiBSZWFjdC5Nb3VzZUV2ZW50LCBhbGlnbm1lbnQ6IHN0cmluZykgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIFxyXG4gICAgaWYgKCF3cmFwcGVyIHx8ICFpbWcpIHJldHVybjtcclxuXHJcbiAgICAvLyBSZW1vdmUgZXhpc3RpbmcgYWxpZ25tZW50IGNsYXNzZXNcclxuICAgIHdyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZSgnaW1hZ2UtYWxpZ24tbGVmdCcsICdpbWFnZS1hbGlnbi1jZW50ZXInLCAnaW1hZ2UtYWxpZ24tcmlnaHQnKTtcclxuICAgIFxyXG4gICAgLy8gQXBwbHkgbmV3IGFsaWdubWVudFxyXG4gICAgc3dpdGNoIChhbGlnbm1lbnQpIHtcclxuICAgICAgY2FzZSAnbGVmdCc6XHJcbiAgICAgICAgd3JhcHBlci5jbGFzc0xpc3QuYWRkKCdpbWFnZS1hbGlnbi1sZWZ0Jyk7XHJcbiAgICAgICAgd3JhcHBlci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICB3cmFwcGVyLnN0eWxlLnRleHRBbGlnbiA9ICdsZWZ0JztcclxuICAgICAgICB3cmFwcGVyLnN0eWxlLm1hcmdpbkxlZnQgPSAnMCc7XHJcbiAgICAgICAgd3JhcHBlci5zdHlsZS5tYXJnaW5SaWdodCA9ICdhdXRvJztcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnY2VudGVyJzpcclxuICAgICAgICB3cmFwcGVyLmNsYXNzTGlzdC5hZGQoJ2ltYWdlLWFsaWduLWNlbnRlcicpO1xyXG4gICAgICAgIHdyYXBwZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgd3JhcHBlci5zdHlsZS50ZXh0QWxpZ24gPSAnY2VudGVyJztcclxuICAgICAgICB3cmFwcGVyLnN0eWxlLm1hcmdpbkxlZnQgPSAnYXV0byc7XHJcbiAgICAgICAgd3JhcHBlci5zdHlsZS5tYXJnaW5SaWdodCA9ICdhdXRvJztcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAncmlnaHQnOlxyXG4gICAgICAgIHdyYXBwZXIuY2xhc3NMaXN0LmFkZCgnaW1hZ2UtYWxpZ24tcmlnaHQnKTtcclxuICAgICAgICB3cmFwcGVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgIHdyYXBwZXIuc3R5bGUudGV4dEFsaWduID0gJ3JpZ2h0JztcclxuICAgICAgICB3cmFwcGVyLnN0eWxlLm1hcmdpbkxlZnQgPSAnYXV0byc7XHJcbiAgICAgICAgd3JhcHBlci5zdHlsZS5tYXJnaW5SaWdodCA9ICcwJztcclxuICAgICAgICBicmVhaztcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICB3cmFwcGVyLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcclxuICAgICAgICB3cmFwcGVyLnN0eWxlLnRleHRBbGlnbiA9ICcnO1xyXG4gICAgICAgIHdyYXBwZXIuc3R5bGUubWFyZ2luTGVmdCA9ICcnO1xyXG4gICAgICAgIHdyYXBwZXIuc3R5bGUubWFyZ2luUmlnaHQgPSAnJztcclxuICAgIH1cclxuXHJcbiAgICAvLyBUcmlnZ2VyIGNoYW5nZSBldmVudFxyXG4gICAgaWYgKGhhbmRsZUNoYW5nZSkge1xyXG4gICAgICBoYW5kbGVDaGFuZ2UoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBnZXRDdXJyZW50QWxpZ25tZW50ID0gKCk6IHN0cmluZyA9PiB7XHJcbiAgICBpZiAoIXdyYXBwZXIpIHJldHVybiAnbm9uZSc7XHJcbiAgICBcclxuICAgIGlmICh3cmFwcGVyLmNsYXNzTGlzdC5jb250YWlucygnaW1hZ2UtYWxpZ24tbGVmdCcpKSByZXR1cm4gJ2xlZnQnO1xyXG4gICAgaWYgKHdyYXBwZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdpbWFnZS1hbGlnbi1jZW50ZXInKSkgcmV0dXJuICdjZW50ZXInO1xyXG4gICAgaWYgKHdyYXBwZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdpbWFnZS1hbGlnbi1yaWdodCcpKSByZXR1cm4gJ3JpZ2h0JztcclxuICAgIHJldHVybiAnbm9uZSc7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgY3VycmVudEFsaWdubWVudCA9IGdldEN1cnJlbnRBbGlnbm1lbnQoKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlRmxvYXRlckNsb3NlID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICBvbkNsb3NlKCk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgXHJcbiAgICAgIGNsYXNzTmFtZT1cImltYWdlLWFsaWdubWVudC1mbG9hdGVyXCJcclxuICAgICAgc3R5bGU9e3tcclxuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgICB0b3A6IGAke3Bvc2l0aW9uLnRvcH1weGAsXHJcbiAgICAgICAgbGVmdDogYCR7cG9zaXRpb24ubGVmdH1weGAsXHJcbiAgICAgICAgekluZGV4OiAxMDAwLFxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3doaXRlJyxcclxuICAgICAgICBib3JkZXI6ICcxcHggc29saWQgI2NjYycsXHJcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAnNnB4JyxcclxuICAgICAgICBwYWRkaW5nOiAnOHB4JyxcclxuICAgICAgICBib3hTaGFkb3c6ICcwIDJweCAxMHB4IHJnYmEoMCwwLDAsMC4xKScsXHJcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgICAgIGdhcDogJzRweCcsXHJcbiAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcidcclxuICAgICAgfX1cclxuICAgID5cclxuICAgICAgPHNwYW4gc3R5bGU9e3sgZm9udFNpemU6ICcxMnB4JywgY29sb3I6ICcjNjY2JywgbWFyZ2luUmlnaHQ6ICc0cHgnIH19PkFsaWduOjwvc3Bhbj5cclxuICAgICAgXHJcbiAgICAgIDxidXR0b25cclxuICAgICAgICBvbkNsaWNrPXsoZSkgPT4gaGFuZGxlQWxpZ25tZW50KGUsICdsZWZ0Jyl9XHJcbiAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgIHBhZGRpbmc6ICc0cHggOHB4JyxcclxuICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAjZGRkJyxcclxuICAgICAgICAgIGJvcmRlclJhZGl1czogJzNweCcsXHJcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGN1cnJlbnRBbGlnbm1lbnQgPT09ICdsZWZ0JyA/ICcjODAwMDgwJyA6ICd3aGl0ZScsXHJcbiAgICAgICAgICBjb2xvcjogY3VycmVudEFsaWdubWVudCA9PT0gJ2xlZnQnID8gJ3doaXRlJyA6ICcjMzMzJyxcclxuICAgICAgICAgIGZvbnRTaXplOiAnMTJweCcsXHJcbiAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xyXG4gICAgICAgIH19XHJcbiAgICAgICAgdGl0bGU9XCJBbGlnbiBMZWZ0XCJcclxuICAgICAgPlxyXG4gICAgICAgIOKGkFxyXG4gICAgICA8L2J1dHRvbj5cclxuICAgICAgXHJcbiAgICAgIDxidXR0b25cclxuICAgICAgICBvbkNsaWNrPXsoZSkgPT4gaGFuZGxlQWxpZ25tZW50KGUsICdjZW50ZXInKX1cclxuICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgcGFkZGluZzogJzRweCA4cHgnLFxyXG4gICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICNkZGQnLFxyXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnM3B4JyxcclxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogY3VycmVudEFsaWdubWVudCA9PT0gJ2NlbnRlcicgPyAnIzgwMDA4MCcgOiAnd2hpdGUnLFxyXG4gICAgICAgICAgY29sb3I6IGN1cnJlbnRBbGlnbm1lbnQgPT09ICdjZW50ZXInID8gJ3doaXRlJyA6ICcjMzMzJyxcclxuICAgICAgICAgIGZvbnRTaXplOiAnMTJweCcsXHJcbiAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xyXG4gICAgICAgIH19XHJcbiAgICAgICAgdGl0bGU9XCJBbGlnbiBDZW50ZXJcIlxyXG4gICAgICA+XHJcbiAgICAgICAg4oaUXHJcbiAgICAgIDwvYnV0dG9uPlxyXG4gICAgICBcclxuICAgICAgPGJ1dHRvblxyXG4gICAgICAgIG9uQ2xpY2s9eyhlKSA9PiBoYW5kbGVBbGlnbm1lbnQoZSwgJ3JpZ2h0Jyl9XHJcbiAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgIHBhZGRpbmc6ICc0cHggOHB4JyxcclxuICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAjZGRkJyxcclxuICAgICAgICAgIGJvcmRlclJhZGl1czogJzNweCcsXHJcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGN1cnJlbnRBbGlnbm1lbnQgPT09ICdyaWdodCcgPyAnIzgwMDA4MCcgOiAnd2hpdGUnLFxyXG4gICAgICAgICAgY29sb3I6IGN1cnJlbnRBbGlnbm1lbnQgPT09ICdyaWdodCcgPyAnd2hpdGUnIDogJyMzMzMnLFxyXG4gICAgICAgICAgZm9udFNpemU6ICcxMnB4JyxcclxuICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInXHJcbiAgICAgICAgfX1cclxuICAgICAgICB0aXRsZT1cIkFsaWduIFJpZ2h0XCJcclxuICAgICAgPlxyXG4gICAgICAgIOKGklxyXG4gICAgICA8L2J1dHRvbj5cclxuICAgICAgXHJcbiAgICAgIDxidXR0b25cclxuICAgICAgICBvbkNsaWNrPXsoZSkgPT4gaGFuZGxlQWxpZ25tZW50KGUsICdub25lJyl9XHJcbiAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgIHBhZGRpbmc6ICc0cHggOHB4JyxcclxuICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAjZGRkJyxcclxuICAgICAgICAgIGJvcmRlclJhZGl1czogJzNweCcsXHJcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGN1cnJlbnRBbGlnbm1lbnQgPT09ICdub25lJyA/ICcjODAwMDgwJyA6ICd3aGl0ZScsXHJcbiAgICAgICAgICBjb2xvcjogY3VycmVudEFsaWdubWVudCA9PT0gJ25vbmUnID8gJ3doaXRlJyA6ICcjMzMzJyxcclxuICAgICAgICAgIGZvbnRTaXplOiAnMTJweCcsXHJcbiAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xyXG4gICAgICAgIH19XHJcbiAgICAgICAgdGl0bGU9XCJObyBBbGlnbm1lbnRcIlxyXG4gICAgICA+XHJcbiAgICAgICAgw5dcclxuICAgICAgPC9idXR0b24+XHJcbiAgICAgIFxyXG4gICAgICA8YnV0dG9uXHJcbiAgICAgICAgb25DbGljaz17aGFuZGxlRmxvYXRlckNsb3NlfVxyXG4gICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICBwYWRkaW5nOiAnMnB4IDZweCcsXHJcbiAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgI2RkZCcsXHJcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICczcHgnLFxyXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxyXG4gICAgICAgICAgY29sb3I6ICcjNjY2JyxcclxuICAgICAgICAgIGZvbnRTaXplOiAnMTJweCcsXHJcbiAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcclxuICAgICAgICAgIG1hcmdpbkxlZnQ6ICc0cHgnXHJcbiAgICAgICAgfX1cclxuICAgICAgICB0aXRsZT1cIkNsb3NlXCJcclxuICAgICAgPlxyXG4gICAgICAgIOKclVxyXG4gICAgICA8L2J1dHRvbj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn07XHJcblxyXG4vLyBIZWxwZXIgZnVuY3Rpb25zIGZvciBpbWFnZSBvcGVyYXRpb25zXHJcbmV4cG9ydCBjb25zdCBzZXR1cEltYWdlUmVzaXplSGFuZGxlcnMgPSAoXHJcbiAgZWRpdG9yUmVmOiBSZWZPYmplY3Q8SFRNTEVsZW1lbnQ+LCBcclxuICBoYW5kbGVDaGFuZ2U6ICgpID0+IHZvaWRcclxuKTogdm9pZCA9PiB7XHJcbiAgaWYgKCFlZGl0b3JSZWYuY3VycmVudCkgcmV0dXJuO1xyXG4gIFxyXG4gIC8vIFJlbW92ZSBhbnkgZXhpc3RpbmcgYWxpZ25tZW50IGZsb2F0ZXJzXHJcbiAgY29uc3QgZXhpc3RpbmdGbG9hdGVycyA9IGVkaXRvclJlZi5jdXJyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbWFnZS1hbGlnbm1lbnQtZmxvYXRlcicpO1xyXG4gIGV4aXN0aW5nRmxvYXRlcnMuZm9yRWFjaCgoZmxvYXRlcikgPT4gZmxvYXRlci5yZW1vdmUoKSk7XHJcbiAgXHJcbiAgLy8gRmluZCBhbGwgaW1hZ2VzIGluIHRoZSBlZGl0b3JcclxuICBjb25zdCBpbWFnZXMgPSBlZGl0b3JSZWYuY3VycmVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbWcucmVzaXphYmxlLWltYWdlJykgYXMgTm9kZUxpc3RPZjxIVE1MSW1hZ2VFbGVtZW50PjtcclxuXHJcbiAgLy8gU2V0dXAgcmVzaXplIGZ1bmN0aW9uYWxpdHkgZm9yIGVhY2ggaW1hZ2VcclxuICBpbWFnZXMuZm9yRWFjaCgoaW1nKSA9PiB7XHJcbiAgICAvLyBTa2lwIGlmIHRoaXMgaW1hZ2UgYWxyZWFkeSBoYXMgcmVzaXplIGhhbmRsZXJzXHJcbiAgICBpZiAoaW1nLmRhdGFzZXQucmVzaXphYmxlID09PSAndHJ1ZScpIHJldHVybjtcclxuICAgIFxyXG4gICAgaW1nLmRhdGFzZXQucmVzaXphYmxlID0gJ3RydWUnO1xyXG4gICAgXHJcbiAgICAvLyBBZGQgd3JhcHBlciBkaXYgYXJvdW5kIHRoZSBpbWFnZSBmb3IgYmV0dGVyIHBvc2l0aW9uaW5nIG9mIGhhbmRsZXNcclxuICAgIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHdyYXBwZXIuY2xhc3NOYW1lID0gJ2ltYWdlLXJlc2l6ZS13cmFwcGVyJztcclxuICAgIHdyYXBwZXIuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xyXG4gICAgd3JhcHBlci5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XHJcbiAgICB3cmFwcGVyLnN0eWxlLm1heFdpZHRoID0gJzEwMCUnO1xyXG4gICAgXHJcbiAgICAvLyBSZXBsYWNlIHRoZSBpbWFnZSB3aXRoIHRoZSB3cmFwcGVyIGNvbnRhaW5pbmcgdGhlIGltYWdlXHJcbiAgICBpZiAoaW1nLnBhcmVudE5vZGUpIHtcclxuICAgICAgaW1nLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHdyYXBwZXIsIGltZyk7XHJcbiAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoaW1nKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gUmVzZXQgc29tZSBpbWFnZSBwcm9wZXJ0aWVzXHJcbiAgICBpbWcuc3R5bGUuYm9yZGVyID0gJzFweCBzb2xpZCB0cmFuc3BhcmVudCc7XHJcbiAgICBpbWcuc3R5bGUuYm94U2l6aW5nID0gJ2JvcmRlci1ib3gnO1xyXG4gICAgaW1nLnN0eWxlLm1heFdpZHRoID0gJzEwMCUnO1xyXG4gICAgXHJcbiAgICAvLyBBZGQgY2xpY2sgaGFuZGxlciB0byBzZWxlY3QgdGhlIGltYWdlXHJcbiAgICB3cmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGU6IEV2ZW50KSA9PiB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgXHJcbiAgICAgIC8vIENoZWNrIGlmIHdlIGNsaWNrZWQgb24gdGhlIGltYWdlIG9yIHdyYXBwZXJcclxuICAgICAgaWYgKGUudGFyZ2V0ID09PSBpbWcgfHwgZS50YXJnZXQgPT09IHdyYXBwZXIpIHtcclxuICAgICAgICAvLyBSZW1vdmUgYW55IGV4aXN0aW5nIGFsaWdubWVudCBmbG9hdGVyc1xyXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nRmxvYXRlcnMgPSBlZGl0b3JSZWYuY3VycmVudCEucXVlcnlTZWxlY3RvckFsbCgnLmltYWdlLWFsaWdubWVudC1mbG9hdGVyJyk7XHJcbiAgICAgICAgZXhpc3RpbmdGbG9hdGVycy5mb3JFYWNoKChmbG9hdGVyKSA9PiBmbG9hdGVyLnJlbW92ZSgpKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBEZXNlbGVjdCBhbnkgcHJldmlvdXNseSBzZWxlY3RlZCBpbWFnZXNcclxuICAgICAgICBjb25zdCBzZWxlY3RlZFdyYXBwZXJzID0gZWRpdG9yUmVmLmN1cnJlbnQhLnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbWFnZS13cmFwcGVyLXNlbGVjdGVkJyk7XHJcbiAgICAgICAgc2VsZWN0ZWRXcmFwcGVycy5mb3JFYWNoKChzZWxlY3RlZFdyYXBwZXIpID0+IHtcclxuICAgICAgICAgIHNlbGVjdGVkV3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKCdpbWFnZS13cmFwcGVyLXNlbGVjdGVkJyk7XHJcbiAgICAgICAgICBjb25zdCBzZWxlY3RlZEltZyA9IHNlbGVjdGVkV3JhcHBlci5xdWVyeVNlbGVjdG9yKCdpbWcnKSBhcyBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gICAgICAgICAgaWYgKHNlbGVjdGVkSW1nKSBzZWxlY3RlZEltZy5zdHlsZS5ib3JkZXIgPSAnMXB4IHNvbGlkIHRyYW5zcGFyZW50JztcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gUmVtb3ZlIHJlc2l6ZSBoYW5kbGVzXHJcbiAgICAgICAgICBjb25zdCBoYW5kbGVzID0gc2VsZWN0ZWRXcmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5yZXNpemUtaGFuZGxlJyk7XHJcbiAgICAgICAgICBoYW5kbGVzLmZvckVhY2goKGhhbmRsZSkgPT4gaGFuZGxlLnJlbW92ZSgpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBTZWxlY3QgdGhpcyBpbWFnZVxyXG4gICAgICAgIHdyYXBwZXIuY2xhc3NMaXN0LmFkZCgnaW1hZ2Utd3JhcHBlci1zZWxlY3RlZCcpO1xyXG4gICAgICAgIGltZy5zdHlsZS5ib3JkZXIgPSAnMnB4IHNvbGlkICM4MDAwODAnO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENyZWF0ZSByZXNpemUgaGFuZGxlc1xyXG4gICAgICAgIGNyZWF0ZVJlc2l6ZUhhbmRsZXMod3JhcHBlciwgaW1nLCBoYW5kbGVDaGFuZ2UpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENyZWF0ZSBhbGlnbm1lbnQgZmxvYXRlciB3aXRoIGltcHJvdmVkIHBvc2l0aW9uaW5nIGFuZCBldmVudCBoYW5kbGluZ1xyXG4gICAgICAgIGNyZWF0ZUFsaWdubWVudEZsb2F0ZXIod3JhcHBlciwgaW1nLCBlZGl0b3JSZWYsIGhhbmRsZUNoYW5nZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG4gIFxyXG4gIC8vIEFkZCBjbGljayBoYW5kbGVyIHRvIHRoZSBlZGl0b3IgdG8gZGVzZWxlY3QgaW1hZ2VzIHdoZW4gY2xpY2tpbmcgZWxzZXdoZXJlXHJcbiAgY29uc3QgZGVzZWxlY3QgPSAoZTogRXZlbnQpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICBcclxuICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG4gICAgXHJcbiAgICAvLyBDaGVjayBpZiB3ZSBjbGlja2VkIG9uIGZsb2F0ZXIgb3IgaXRzIGNoaWxkcmVuXHJcbiAgICBjb25zdCBpc0Zsb2F0ZXJDbGljayA9IHRhcmdldC5jbG9zZXN0KCcuaW1hZ2UtYWxpZ25tZW50LWZsb2F0ZXInKTtcclxuICAgIFxyXG4gICAgLy8gSWYgd2UgY2xpY2tlZCBvbiB0aGUgZWRpdG9yIGJ1dCBub3Qgb24gYW4gaW1hZ2UsIGhhbmRsZSwgb3IgZmxvYXRlclxyXG4gICAgaWYgKCFpc0Zsb2F0ZXJDbGljayAmJlxyXG4gICAgICAgIHRhcmdldCAhPT0gZWRpdG9yUmVmLmN1cnJlbnQgJiYgXHJcbiAgICAgICAgIXRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3Jlc2l6ZS1oYW5kbGUnKSAmJiBcclxuICAgICAgICAhdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncmVzaXphYmxlLWltYWdlJykgJiYgXHJcbiAgICAgICAgIXRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2ltYWdlLXJlc2l6ZS13cmFwcGVyJykpIHtcclxuICAgICAgXHJcbiAgICAgIC8vIFJlbW92ZSBhbGlnbm1lbnQgZmxvYXRlcnNcclxuICAgICAgY29uc3QgZXhpc3RpbmdGbG9hdGVycyA9IGVkaXRvclJlZi5jdXJyZW50IS5xdWVyeVNlbGVjdG9yQWxsKCcuaW1hZ2UtYWxpZ25tZW50LWZsb2F0ZXInKTtcclxuICAgICAgZXhpc3RpbmdGbG9hdGVycy5mb3JFYWNoKChmbG9hdGVyKSA9PiBmbG9hdGVyLnJlbW92ZSgpKTtcclxuICAgICAgXHJcbiAgICAgIC8vIERlc2VsZWN0IGFsbCBzZWxlY3RlZCB3cmFwcGVyc1xyXG4gICAgICBjb25zdCBzZWxlY3RlZFdyYXBwZXJzID0gZWRpdG9yUmVmLmN1cnJlbnQhLnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbWFnZS13cmFwcGVyLXNlbGVjdGVkJyk7XHJcbiAgICAgIHNlbGVjdGVkV3JhcHBlcnMuZm9yRWFjaCgoc2VsZWN0ZWRXcmFwcGVyKSA9PiB7XHJcbiAgICAgICAgc2VsZWN0ZWRXcmFwcGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2ltYWdlLXdyYXBwZXItc2VsZWN0ZWQnKTtcclxuICAgICAgICBjb25zdCBzZWxlY3RlZEltZyA9IHNlbGVjdGVkV3JhcHBlci5xdWVyeVNlbGVjdG9yKCdpbWcnKSBhcyBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gICAgICAgIGlmIChzZWxlY3RlZEltZykgc2VsZWN0ZWRJbWcuc3R5bGUuYm9yZGVyID0gJzFweCBzb2xpZCB0cmFuc3BhcmVudCc7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gUmVtb3ZlIHJlc2l6ZSBoYW5kbGVzXHJcbiAgICAgICAgY29uc3QgaGFuZGxlcyA9IHNlbGVjdGVkV3JhcHBlci5xdWVyeVNlbGVjdG9yQWxsKCcucmVzaXplLWhhbmRsZScpO1xyXG4gICAgICAgIGhhbmRsZXMuZm9yRWFjaCgoaGFuZGxlKSA9PiBoYW5kbGUucmVtb3ZlKCkpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG4gIFxyXG4gIC8vIFJlbW92ZSBhbnkgZXhpc3RpbmcgZXZlbnQgbGlzdGVuZXIgdG8gcHJldmVudCBkdXBsaWNhdGVzXHJcbiAgZWRpdG9yUmVmLmN1cnJlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkZXNlbGVjdCk7XHJcbiAgZWRpdG9yUmVmLmN1cnJlbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkZXNlbGVjdCk7XHJcbn07XHJcblxyXG4vLyBDcmVhdGUgYWxpZ25tZW50IGZsb2F0ZXIgLSBGSVhFRCBWRVJTSU9OXHJcbmNvbnN0IGNyZWF0ZUFsaWdubWVudEZsb2F0ZXIgPSAoXHJcbiAgd3JhcHBlcjogSFRNTEVsZW1lbnQsIFxyXG4gIGltZzogSFRNTEltYWdlRWxlbWVudCwgXHJcbiAgZWRpdG9yUmVmOiBSZWZPYmplY3Q8SFRNTEVsZW1lbnQ+LCBcclxuICBoYW5kbGVDaGFuZ2U6ICgpID0+IHZvaWRcclxuKTogSFRNTEVsZW1lbnQgfCBudWxsID0+IHtcclxuICBpZiAoIWVkaXRvclJlZi5jdXJyZW50KSByZXR1cm4gbnVsbDtcclxuICBcclxuICAvLyBSZW1vdmUgYW55IGV4aXN0aW5nIGZsb2F0ZXJzXHJcbiAgY29uc3QgZXhpc3RpbmdGbG9hdGVycyA9IGVkaXRvclJlZi5jdXJyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbWFnZS1hbGlnbm1lbnQtZmxvYXRlcicpO1xyXG4gIGV4aXN0aW5nRmxvYXRlcnMuZm9yRWFjaCgoZmxvYXRlcikgPT4gZmxvYXRlci5yZW1vdmUoKSk7XHJcbiAgXHJcbiAgLy8gQ3JlYXRlIGZsb2F0ZXIgY29udGFpbmVyXHJcbiAgY29uc3QgZmxvYXRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gIGZsb2F0ZXIuY2xhc3NOYW1lID0gJ2ltYWdlLWFsaWdubWVudC1mbG9hdGVyJztcclxuICBcclxuICAvLyBDYWxjdWxhdGUgcG9zaXRpb24gZm9yIGZsb2F0ZXIgd2l0aCBiZXR0ZXIgcG9zaXRpb25pbmcgbG9naWNcclxuICBjb25zdCBjYWxjdWxhdGVQb3NpdGlvbiA9ICgpID0+IHtcclxuICAgIGNvbnN0IHdyYXBwZXJSZWN0ID0gd3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIGNvbnN0IGVkaXRvclJlY3QgPSBlZGl0b3JSZWYuY3VycmVudCEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICBcclxuICAgIGxldCB0b3AgPSB3cmFwcGVyUmVjdC50b3AgLSBlZGl0b3JSZWN0LnRvcCAtIDUwO1xyXG4gICAgbGV0IGxlZnQgPSB3cmFwcGVyUmVjdC5sZWZ0IC0gZWRpdG9yUmVjdC5sZWZ0O1xyXG4gICAgXHJcbiAgICAvLyBFbnN1cmUgZmxvYXRlciBkb2Vzbid0IGdvIG91dHNpZGUgZWRpdG9yIGJvdW5kc1xyXG4gICAgY29uc3QgZmxvYXRlcldpZHRoID0gMjAwOyAvLyBhcHByb3hpbWF0ZSB3aWR0aFxyXG4gICAgaWYgKGxlZnQgKyBmbG9hdGVyV2lkdGggPiBlZGl0b3JSZWYuY3VycmVudCEub2Zmc2V0V2lkdGgpIHtcclxuICAgICAgbGVmdCA9IHdyYXBwZXJSZWN0LnJpZ2h0IC0gZWRpdG9yUmVjdC5sZWZ0IC0gZmxvYXRlcldpZHRoO1xyXG4gICAgfVxyXG4gICAgaWYgKGxlZnQgPCAwKSBsZWZ0ID0gNTtcclxuICAgIGlmICh0b3AgPCAwKSB0b3AgPSB3cmFwcGVyUmVjdC5ib3R0b20gLSBlZGl0b3JSZWN0LnRvcCArIDEwO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyB0b3AsIGxlZnQgfTtcclxuICB9O1xyXG4gIFxyXG4gIGNvbnN0IHBvc2l0aW9uID0gY2FsY3VsYXRlUG9zaXRpb24oKTtcclxuICBcclxuICAvLyBTdHlsZSB0aGUgZmxvYXRlciB3aXRoIGJldHRlciB6LWluZGV4IGFuZCBwb3NpdGlvbmluZ1xyXG4gIE9iamVjdC5hc3NpZ24oZmxvYXRlci5zdHlsZSwge1xyXG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICB0b3A6IGAke3Bvc2l0aW9uLnRvcH1weGAsXHJcbiAgICBsZWZ0OiBgJHtwb3NpdGlvbi5sZWZ0fXB4YCxcclxuICAgIHpJbmRleDogJzk5OTknLCAvLyBIaWdoZXIgei1pbmRleFxyXG4gICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxyXG4gICAgYm9yZGVyOiAnMXB4IHNvbGlkICNjY2MnLFxyXG4gICAgYm9yZGVyUmFkaXVzOiAnNnB4JyxcclxuICAgIHBhZGRpbmc6ICc4cHgnLFxyXG4gICAgYm94U2hhZG93OiAnMCA0cHggMTJweCByZ2JhKDAsMCwwLDAuMTUpJyxcclxuICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgIGdhcDogJzRweCcsXHJcbiAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcclxuICAgIGZvbnRGYW1pbHk6ICctYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsIFwiU2Vnb2UgVUlcIiwgUm9ib3RvLCBzYW5zLXNlcmlmJyxcclxuICAgIHVzZXJTZWxlY3Q6ICdub25lJyxcclxuICAgIHBvaW50ZXJFdmVudHM6ICdhdXRvJyAvLyBFbnN1cmUgcG9pbnRlciBldmVudHMgd29ya1xyXG4gIH0pO1xyXG4gIFxyXG4gIC8vIFByZXZlbnQgZmxvYXRlciBmcm9tIGJlaW5nIGRlc2VsZWN0ZWQgd2hlbiBjbGlja2VkXHJcbiAgZmxvYXRlci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZTogRXZlbnQpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgfSk7XHJcbiAgXHJcbiAgZmxvYXRlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlOiBFdmVudCkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICB9KTtcclxuICBcclxuICAvLyBDcmVhdGUgYWxpZ25tZW50IGJ1dHRvbnNcclxuICBjb25zdCBhbGlnbm1lbnRzID0gW1xyXG4gICAgeyBrZXk6ICdsZWZ0Jywgc3ltYm9sOiAn4oaQJywgdGl0bGU6ICdBbGlnbiBMZWZ0JyB9LFxyXG4gICAgeyBrZXk6ICdjZW50ZXInLCBzeW1ib2w6ICfihpQnLCB0aXRsZTogJ0FsaWduIENlbnRlcicgfSxcclxuICAgIHsga2V5OiAncmlnaHQnLCBzeW1ib2w6ICfihpInLCB0aXRsZTogJ0FsaWduIFJpZ2h0JyB9LFxyXG4gICAgeyBrZXk6ICdub25lJywgc3ltYm9sOiAnw5cnLCB0aXRsZTogJ05vIEFsaWdubWVudCcgfVxyXG4gIF07XHJcbiAgXHJcbiAgLy8gQWRkIGxhYmVsXHJcbiAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgbGFiZWwudGV4dENvbnRlbnQgPSAnQWxpZ246JztcclxuICBsYWJlbC5zdHlsZS5mb250U2l6ZSA9ICcxMnB4JztcclxuICBsYWJlbC5zdHlsZS5jb2xvciA9ICcjNjY2JztcclxuICBsYWJlbC5zdHlsZS5tYXJnaW5SaWdodCA9ICc0cHgnO1xyXG4gIGxhYmVsLnN0eWxlLmZvbnRXZWlnaHQgPSAnNTAwJztcclxuICBmbG9hdGVyLmFwcGVuZENoaWxkKGxhYmVsKTtcclxuICBcclxuICAvLyBHZXQgY3VycmVudCBhbGlnbm1lbnRcclxuICBjb25zdCBnZXRDdXJyZW50QWxpZ25tZW50ID0gKCk6IHN0cmluZyA9PiB7XHJcbiAgICBpZiAod3JhcHBlci5jbGFzc0xpc3QuY29udGFpbnMoJ2ltYWdlLWFsaWduLWxlZnQnKSkgcmV0dXJuICdsZWZ0JztcclxuICAgIGlmICh3cmFwcGVyLmNsYXNzTGlzdC5jb250YWlucygnaW1hZ2UtYWxpZ24tY2VudGVyJykpIHJldHVybiAnY2VudGVyJztcclxuICAgIGlmICh3cmFwcGVyLmNsYXNzTGlzdC5jb250YWlucygnaW1hZ2UtYWxpZ24tcmlnaHQnKSkgcmV0dXJuICdyaWdodCc7XHJcbiAgICByZXR1cm4gJ25vbmUnO1xyXG4gIH07XHJcbiAgXHJcbiAgLy8gSGFuZGxlIGFsaWdubWVudCBjaGFuZ2VcclxuICBjb25zdCBoYW5kbGVBbGlnbm1lbnQgPSAoYWxpZ25tZW50OiBzdHJpbmcpID0+IHtcclxuICAgIC8vIFJlbW92ZSBleGlzdGluZyBhbGlnbm1lbnQgY2xhc3Nlc1xyXG4gICAgd3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKCdpbWFnZS1hbGlnbi1sZWZ0JywgJ2ltYWdlLWFsaWduLWNlbnRlcicsICdpbWFnZS1hbGlnbi1yaWdodCcpO1xyXG4gICAgXHJcbiAgICAvLyBBcHBseSBuZXcgYWxpZ25tZW50XHJcbiAgICBzd2l0Y2ggKGFsaWdubWVudCkge1xyXG4gICAgICBjYXNlICdsZWZ0JzpcclxuICAgICAgICB3cmFwcGVyLmNsYXNzTGlzdC5hZGQoJ2ltYWdlLWFsaWduLWxlZnQnKTtcclxuICAgICAgICB3cmFwcGVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgIHdyYXBwZXIuc3R5bGUudGV4dEFsaWduID0gJ2xlZnQnO1xyXG4gICAgICAgIHdyYXBwZXIuc3R5bGUubWFyZ2luTGVmdCA9ICcwJztcclxuICAgICAgICB3cmFwcGVyLnN0eWxlLm1hcmdpblJpZ2h0ID0gJ2F1dG8nO1xyXG4gICAgICAgIHdyYXBwZXIuc3R5bGUud2lkdGggPSAnZml0LWNvbnRlbnQnO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdjZW50ZXInOlxyXG4gICAgICAgIHdyYXBwZXIuY2xhc3NMaXN0LmFkZCgnaW1hZ2UtYWxpZ24tY2VudGVyJyk7XHJcbiAgICAgICAgd3JhcHBlci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICB3cmFwcGVyLnN0eWxlLnRleHRBbGlnbiA9ICdjZW50ZXInO1xyXG4gICAgICAgIHdyYXBwZXIuc3R5bGUubWFyZ2luTGVmdCA9ICdhdXRvJztcclxuICAgICAgICB3cmFwcGVyLnN0eWxlLm1hcmdpblJpZ2h0ID0gJ2F1dG8nO1xyXG4gICAgICAgIHdyYXBwZXIuc3R5bGUud2lkdGggPSAnZml0LWNvbnRlbnQnO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdyaWdodCc6XHJcbiAgICAgICAgd3JhcHBlci5jbGFzc0xpc3QuYWRkKCdpbWFnZS1hbGlnbi1yaWdodCcpO1xyXG4gICAgICAgIHdyYXBwZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgd3JhcHBlci5zdHlsZS50ZXh0QWxpZ24gPSAncmlnaHQnO1xyXG4gICAgICAgIHdyYXBwZXIuc3R5bGUubWFyZ2luTGVmdCA9ICdhdXRvJztcclxuICAgICAgICB3cmFwcGVyLnN0eWxlLm1hcmdpblJpZ2h0ID0gJzAnO1xyXG4gICAgICAgIHdyYXBwZXIuc3R5bGUud2lkdGggPSAnZml0LWNvbnRlbnQnO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHdyYXBwZXIuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xyXG4gICAgICAgIHdyYXBwZXIuc3R5bGUudGV4dEFsaWduID0gJyc7XHJcbiAgICAgICAgd3JhcHBlci5zdHlsZS5tYXJnaW5MZWZ0ID0gJyc7XHJcbiAgICAgICAgd3JhcHBlci5zdHlsZS5tYXJnaW5SaWdodCA9ICcnO1xyXG4gICAgICAgIHdyYXBwZXIuc3R5bGUud2lkdGggPSAnJztcclxuICAgIH1cclxuXHJcbiAgICAvLyBVcGRhdGUgYnV0dG9uIHN0YXRlc1xyXG4gICAgdXBkYXRlQnV0dG9uU3RhdGVzKCk7XHJcbiAgICBcclxuICAgIC8vIFRyaWdnZXIgY2hhbmdlIGV2ZW50XHJcbiAgICBpZiAoaGFuZGxlQ2hhbmdlKSB7XHJcbiAgICAgIGhhbmRsZUNoYW5nZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgXHJcbiAgY29uc3QgdXBkYXRlQnV0dG9uU3RhdGVzID0gKCkgPT4ge1xyXG4gICAgY29uc3QgY3VycmVudEFsaWdubWVudCA9IGdldEN1cnJlbnRBbGlnbm1lbnQoKTtcclxuICAgIGFsaWdubWVudEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XHJcbiAgICAgIGlmIChidXR0b24uZGF0YXNldC5hbGlnbm1lbnQgPT09IGN1cnJlbnRBbGlnbm1lbnQpIHtcclxuICAgICAgICBidXR0b24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyM4MDAwODAnO1xyXG4gICAgICAgIGJ1dHRvbi5zdHlsZS5jb2xvciA9ICd3aGl0ZSc7XHJcbiAgICAgICAgYnV0dG9uLnN0eWxlLmJvcmRlckNvbG9yID0gJyM4MDAwODAnO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnd2hpdGUnO1xyXG4gICAgICAgIGJ1dHRvbi5zdHlsZS5jb2xvciA9ICcjMzMzJztcclxuICAgICAgICBidXR0b24uc3R5bGUuYm9yZGVyQ29sb3IgPSAnI2RkZCc7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcbiAgXHJcbiAgLy8gQ3JlYXRlIGFsaWdubWVudCBidXR0b25zIHdpdGggYmV0dGVyIGV2ZW50IGhhbmRsaW5nXHJcbiAgY29uc3QgYWxpZ25tZW50QnV0dG9uczogSFRNTEJ1dHRvbkVsZW1lbnRbXSA9IFtdO1xyXG4gIFxyXG4gIGFsaWdubWVudHMuZm9yRWFjaCgoeyBrZXksIHN5bWJvbCwgdGl0bGUgfSkgPT4ge1xyXG4gICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICBidXR0b24udGV4dENvbnRlbnQgPSBzeW1ib2w7XHJcbiAgICBidXR0b24udGl0bGUgPSB0aXRsZTtcclxuICAgIGJ1dHRvbi5kYXRhc2V0LmFsaWdubWVudCA9IGtleTtcclxuICAgIGJ1dHRvbi50eXBlID0gJ2J1dHRvbic7IC8vIFByZXZlbnQgZm9ybSBzdWJtaXNzaW9uXHJcbiAgICBcclxuICAgIE9iamVjdC5hc3NpZ24oYnV0dG9uLnN0eWxlLCB7XHJcbiAgICAgIHBhZGRpbmc6ICc2cHggMTBweCcsXHJcbiAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAjZGRkJyxcclxuICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcclxuICAgICAgZm9udFNpemU6ICcxNHB4JyxcclxuICAgICAgY3Vyc29yOiAncG9pbnRlcicsXHJcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJ3doaXRlJyxcclxuICAgICAgY29sb3I6ICcjMzMzJyxcclxuICAgICAgbWluV2lkdGg6ICczMnB4JyxcclxuICAgICAgdHJhbnNpdGlvbjogJ2FsbCAwLjJzIGVhc2UnLFxyXG4gICAgICB1c2VyU2VsZWN0OiAnbm9uZSdcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAvLyBIb3ZlciBlZmZlY3RzXHJcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsICgpID0+IHtcclxuICAgICAgaWYgKGJ1dHRvbi5kYXRhc2V0LmFsaWdubWVudCAhPT0gZ2V0Q3VycmVudEFsaWdubWVudCgpKSB7XHJcbiAgICAgICAgYnV0dG9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjZjVmNWY1JztcclxuICAgICAgICBidXR0b24uc3R5bGUuYm9yZGVyQ29sb3IgPSAnIzk5OSc7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsICgpID0+IHtcclxuICAgICAgaWYgKGJ1dHRvbi5kYXRhc2V0LmFsaWdubWVudCAhPT0gZ2V0Q3VycmVudEFsaWdubWVudCgpKSB7XHJcbiAgICAgICAgYnV0dG9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd3aGl0ZSc7XHJcbiAgICAgICAgYnV0dG9uLnN0eWxlLmJvcmRlckNvbG9yID0gJyNkZGQnO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgLy8gQ2xpY2sgaGFuZGxlciB3aXRoIHByb3BlciBldmVudCBoYW5kbGluZ1xyXG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlOiBFdmVudCkgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGU6IEV2ZW50KSA9PiB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgaGFuZGxlQWxpZ25tZW50KGtleSk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgYWxpZ25tZW50QnV0dG9ucy5wdXNoKGJ1dHRvbik7XHJcbiAgICBmbG9hdGVyLmFwcGVuZENoaWxkKGJ1dHRvbik7XHJcbiAgfSk7XHJcbiAgXHJcbiAgLy8gQ3JlYXRlIGNsb3NlIGJ1dHRvblxyXG4gIGNvbnN0IGNsb3NlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgY2xvc2VCdXR0b24udGV4dENvbnRlbnQgPSAn4pyVJztcclxuICBjbG9zZUJ1dHRvbi50aXRsZSA9ICdDbG9zZSc7XHJcbiAgY2xvc2VCdXR0b24udHlwZSA9ICdidXR0b24nO1xyXG4gIFxyXG4gIE9iamVjdC5hc3NpZ24oY2xvc2VCdXR0b24uc3R5bGUsIHtcclxuICAgIHBhZGRpbmc6ICc0cHggOHB4JyxcclxuICAgIGJvcmRlcjogJzFweCBzb2xpZCAjZGRkJyxcclxuICAgIGJvcmRlclJhZGl1czogJzRweCcsXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICd3aGl0ZScsXHJcbiAgICBjb2xvcjogJyM2NjYnLFxyXG4gICAgZm9udFNpemU6ICcxMnB4JyxcclxuICAgIGN1cnNvcjogJ3BvaW50ZXInLFxyXG4gICAgbWFyZ2luTGVmdDogJzhweCcsXHJcbiAgICBtaW5XaWR0aDogJzI0cHgnLFxyXG4gICAgdHJhbnNpdGlvbjogJ2FsbCAwLjJzIGVhc2UnXHJcbiAgfSk7XHJcbiAgXHJcbiAgY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsICgpID0+IHtcclxuICAgIGNsb3NlQnV0dG9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjZjVmNWY1JztcclxuICAgIGNsb3NlQnV0dG9uLnN0eWxlLmNvbG9yID0gJyMzMzMnO1xyXG4gIH0pO1xyXG4gIFxyXG4gIGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKSA9PiB7XHJcbiAgICBjbG9zZUJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnd2hpdGUnO1xyXG4gICAgY2xvc2VCdXR0b24uc3R5bGUuY29sb3IgPSAnIzY2Nic7XHJcbiAgfSk7XHJcbiAgXHJcbiAgY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGU6IEV2ZW50KSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gIH0pO1xyXG4gIFxyXG4gIGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGU6IEV2ZW50KSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgZmxvYXRlci5yZW1vdmUoKTtcclxuICB9KTtcclxuICBcclxuICBmbG9hdGVyLmFwcGVuZENoaWxkKGNsb3NlQnV0dG9uKTtcclxuICBcclxuICAvLyBVcGRhdGUgaW5pdGlhbCBidXR0b24gc3RhdGVzXHJcbiAgdXBkYXRlQnV0dG9uU3RhdGVzKCk7XHJcbiAgXHJcbiAgLy8gQWRkIGZsb2F0ZXIgdG8gZWRpdG9yIHdpdGggcHJvcGVyIGluc2VydGlvblxyXG4gIGVkaXRvclJlZi5jdXJyZW50LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJzsgLy8gRW5zdXJlIGVkaXRvciBoYXMgcmVsYXRpdmUgcG9zaXRpb25pbmdcclxuICBlZGl0b3JSZWYuY3VycmVudC5hcHBlbmRDaGlsZChmbG9hdGVyKTtcclxuICBcclxuICAvLyBSZXR1cm4gZmxvYXRlciByZWZlcmVuY2UgZm9yIHBvdGVudGlhbCBjbGVhbnVwXHJcbiAgcmV0dXJuIGZsb2F0ZXI7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVSZXNpemVIYW5kbGVzID0gKFxyXG4gIHdyYXBwZXI6IEhUTUxFbGVtZW50LCBcclxuICBpbWc6IEhUTUxJbWFnZUVsZW1lbnQsIFxyXG4gIGhhbmRsZUNoYW5nZTogKCkgPT4gdm9pZFxyXG4pOiB2b2lkID0+IHtcclxuICAvLyBSZW1vdmUgYW55IGV4aXN0aW5nIGhhbmRsZXNcclxuICBjb25zdCBleGlzdGluZ0hhbmRsZXMgPSB3cmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5yZXNpemUtaGFuZGxlJyk7XHJcbiAgZXhpc3RpbmdIYW5kbGVzLmZvckVhY2goKGhhbmRsZSkgPT4gaGFuZGxlLnJlbW92ZSgpKTtcclxuICBcclxuICAvLyBDcmVhdGUgaGFuZGxlIHBvc2l0aW9uczogY29ybmVycyBhbmQgY2VudGVycyBvZiBlYWNoIHNpZGVcclxuICBjb25zdCBwb3NpdGlvbnMgPSBbJ253JywgJ24nLCAnbmUnLCAnZScsICdzZScsICdzJywgJ3N3JywgJ3cnXTtcclxuICBcclxuICAvLyBEZWZpbmUgY3Vyc29yIHN0eWxlcyBmb3IgZWFjaCBoYW5kbGUgcG9zaXRpb25cclxuICBjb25zdCBjdXJzb3JzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xyXG4gICAgJ253JzogJ253c2UtcmVzaXplJyxcclxuICAgICduJzogJ25zLXJlc2l6ZScsXHJcbiAgICAnbmUnOiAnbmVzdy1yZXNpemUnLFxyXG4gICAgJ2UnOiAnZXctcmVzaXplJyxcclxuICAgICdzZSc6ICdud3NlLXJlc2l6ZScsXHJcbiAgICAncyc6ICducy1yZXNpemUnLFxyXG4gICAgJ3N3JzogJ25lc3ctcmVzaXplJyxcclxuICAgICd3JzogJ2V3LXJlc2l6ZSdcclxuICB9O1xyXG4gIFxyXG4gIHBvc2l0aW9ucy5mb3JFYWNoKChwb3MpID0+IHtcclxuICAgIGNvbnN0IGhhbmRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgaGFuZGxlLmNsYXNzTmFtZSA9IGByZXNpemUtaGFuZGxlIHJlc2l6ZS1oYW5kbGUtJHtwb3N9YDtcclxuICAgIGhhbmRsZS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICBoYW5kbGUuc3R5bGUud2lkdGggPSAnOHB4JztcclxuICAgIGhhbmRsZS5zdHlsZS5oZWlnaHQgPSAnOHB4JztcclxuICAgIGhhbmRsZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzgwMDA4MCc7XHJcbiAgICBoYW5kbGUuc3R5bGUuYm9yZGVyUmFkaXVzID0gJzUwJSc7XHJcbiAgICBoYW5kbGUuc3R5bGUuekluZGV4ID0gJzEwMCc7XHJcbiAgICBoYW5kbGUuc3R5bGUuY3Vyc29yID0gY3Vyc29yc1twb3NdO1xyXG4gICAgXHJcbiAgICAvLyBQb3NpdGlvbiB0aGUgaGFuZGxlXHJcbiAgICAvLyBBbGwgY29vcmRpbmF0ZXMgbmVlZCB0byBiZSBjYWxjdWxhdGVkIGJhc2VkIG9uIHRoZSBpbWFnZSBkaW1lbnNpb25zXHJcbiAgICBjb25zdCBpbWdXaWR0aCA9IGltZy5vZmZzZXRXaWR0aDtcclxuICAgIGNvbnN0IGltZ0hlaWdodCA9IGltZy5vZmZzZXRIZWlnaHQ7XHJcbiAgICBcclxuICAgIHBvc2l0aW9uSGFuZGxlKGhhbmRsZSwgcG9zLCBpbWdXaWR0aCwgaW1nSGVpZ2h0KTtcclxuICAgIFxyXG4gICAgLy8gQWRkIHJlc2l6ZSBmdW5jdGlvbmFsaXR5XHJcbiAgICBoYW5kbGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGU6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICBcclxuICAgICAgLy8gR2V0IGluaXRpYWwgcG9zaXRpb25zIGFuZCBzaXplc1xyXG4gICAgICBjb25zdCBzdGFydFggPSBlLmNsaWVudFg7XHJcbiAgICAgIGNvbnN0IHN0YXJ0WSA9IGUuY2xpZW50WTtcclxuICAgICAgY29uc3Qgc3RhcnRXaWR0aCA9IGltZy5vZmZzZXRXaWR0aDtcclxuICAgICAgY29uc3Qgc3RhcnRIZWlnaHQgPSBpbWcub2Zmc2V0SGVpZ2h0O1xyXG4gICAgICBjb25zdCBzdGFydFRvcCA9IGltZy5vZmZzZXRUb3A7XHJcbiAgICAgIGNvbnN0IHN0YXJ0TGVmdCA9IGltZy5vZmZzZXRMZWZ0O1xyXG4gICAgICBjb25zdCBpbWdSYXRpbyA9IHN0YXJ0V2lkdGggLyBzdGFydEhlaWdodDtcclxuICAgICAgXHJcbiAgICAgIC8vIENyZWF0ZSBtb3VzZW1vdmUgYW5kIG1vdXNldXAgaGFuZGxlcnNcclxuICAgICAgY29uc3Qgb25Nb3VzZU1vdmUgPSAobW92ZUV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgbW92ZUV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2FsY3VsYXRlIG1vdmVtZW50IGRlbHRhc1xyXG4gICAgICAgIGNvbnN0IGRlbHRhWCA9IG1vdmVFdmVudC5jbGllbnRYIC0gc3RhcnRYO1xyXG4gICAgICAgIGNvbnN0IGRlbHRhWSA9IG1vdmVFdmVudC5jbGllbnRZIC0gc3RhcnRZO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENhbGN1bGF0ZSBuZXcgd2lkdGggYW5kIGhlaWdodCBiYXNlZCBvbiBkcmFnIGRpcmVjdGlvblxyXG4gICAgICAgIGxldCBuZXdXaWR0aCA9IHN0YXJ0V2lkdGg7XHJcbiAgICAgICAgbGV0IG5ld0hlaWdodCA9IHN0YXJ0SGVpZ2h0O1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEFwcGx5IGRpZmZlcmVudCByZXNpemUgbG9naWMgYmFzZWQgb24gaGFuZGxlIHBvc2l0aW9uXHJcbiAgICAgICAgc3dpdGNoIChwb3MpIHtcclxuICAgICAgICAgIGNhc2UgJ2UnOiAvLyBFYXN0IChyaWdodCBtaWRkbGUpXHJcbiAgICAgICAgICAgIG5ld1dpZHRoID0gc3RhcnRXaWR0aCArIGRlbHRhWDtcclxuICAgICAgICAgICAgbmV3SGVpZ2h0ID0gc3RhcnRIZWlnaHQ7IC8vIEtlZXAgaGVpZ2h0IHVuY2hhbmdlZFxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgJ3cnOiAvLyBXZXN0IChsZWZ0IG1pZGRsZSlcclxuICAgICAgICAgICAgbmV3V2lkdGggPSBzdGFydFdpZHRoIC0gZGVsdGFYO1xyXG4gICAgICAgICAgICBuZXdIZWlnaHQgPSBzdGFydEhlaWdodDsgLy8gS2VlcCBoZWlnaHQgdW5jaGFuZ2VkXHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSAnbic6IC8vIE5vcnRoICh0b3AgbWlkZGxlKVxyXG4gICAgICAgICAgICBuZXdIZWlnaHQgPSBzdGFydEhlaWdodCAtIGRlbHRhWTtcclxuICAgICAgICAgICAgbmV3V2lkdGggPSBzdGFydFdpZHRoOyAvLyBLZWVwIHdpZHRoIHVuY2hhbmdlZFxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgJ3MnOiAvLyBTb3V0aCAoYm90dG9tIG1pZGRsZSlcclxuICAgICAgICAgICAgbmV3SGVpZ2h0ID0gc3RhcnRIZWlnaHQgKyBkZWx0YVk7XHJcbiAgICAgICAgICAgIG5ld1dpZHRoID0gc3RhcnRXaWR0aDsgLy8gS2VlcCB3aWR0aCB1bmNoYW5nZWRcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICBjYXNlICdudyc6IC8vIE5vcnRod2VzdCAodG9wIGxlZnQpXHJcbiAgICAgICAgICAgIG5ld1dpZHRoID0gc3RhcnRXaWR0aCAtIGRlbHRhWDtcclxuICAgICAgICAgICAgbmV3SGVpZ2h0ID0gc3RhcnRIZWlnaHQgLSBkZWx0YVk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSAnbmUnOiAvLyBOb3J0aGVhc3QgKHRvcCByaWdodClcclxuICAgICAgICAgICAgbmV3V2lkdGggPSBzdGFydFdpZHRoICsgZGVsdGFYO1xyXG4gICAgICAgICAgICBuZXdIZWlnaHQgPSBzdGFydEhlaWdodCAtIGRlbHRhWTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICBjYXNlICdzZSc6IC8vIFNvdXRoZWFzdCAoYm90dG9tIHJpZ2h0KVxyXG4gICAgICAgICAgICBuZXdXaWR0aCA9IHN0YXJ0V2lkdGggKyBkZWx0YVg7XHJcbiAgICAgICAgICAgIG5ld0hlaWdodCA9IHN0YXJ0SGVpZ2h0ICsgZGVsdGFZO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgJ3N3JzogLy8gU291dGh3ZXN0IChib3R0b20gbGVmdClcclxuICAgICAgICAgICAgbmV3V2lkdGggPSBzdGFydFdpZHRoIC0gZGVsdGFYO1xyXG4gICAgICAgICAgICBuZXdIZWlnaHQgPSBzdGFydEhlaWdodCArIGRlbHRhWTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEFwcGx5IG1pbmltdW0gY29uc3RyYWludHNcclxuICAgICAgICBpZiAobmV3V2lkdGggPj0gMzApIHtcclxuICAgICAgICAgIGltZy5zdHlsZS53aWR0aCA9IGAke25ld1dpZHRofXB4YDtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKG5ld0hlaWdodCA+PSAzMCkge1xyXG4gICAgICAgICAgaW1nLnN0eWxlLmhlaWdodCA9IGAke25ld0hlaWdodH1weGA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFVwZGF0ZSBoYW5kbGUgcG9zaXRpb25zIGFmdGVyIHJlc2l6ZVxyXG4gICAgICAgIHVwZGF0ZUhhbmRsZVBvc2l0aW9ucyh3cmFwcGVyLCBpbWcpO1xyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgY29uc3Qgb25Nb3VzZVVwID0gKCkgPT4ge1xyXG4gICAgICAgIC8vIFJlbW92ZSBldmVudCBsaXN0ZW5lcnNcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSk7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gVXBkYXRlIGVkaXRvciBjb250ZW50XHJcbiAgICAgICAgaGFuZGxlQ2hhbmdlKCk7XHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXJzXHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlKTtcclxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgLy8gQWRkIGhhbmRsZSB0byB3cmFwcGVyXHJcbiAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGhhbmRsZSk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gcG9zaXRpb24gaGFuZGxlIGJhc2VkIG9uIHBvc2l0aW9uIGNvZGVcclxuY29uc3QgcG9zaXRpb25IYW5kbGUgPSAoaGFuZGxlOiBIVE1MRWxlbWVudCwgcG9zOiBzdHJpbmcsIGltZ1dpZHRoOiBudW1iZXIsIGltZ0hlaWdodDogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgc3dpdGNoIChwb3MpIHtcclxuICAgIGNhc2UgJ253JzogLy8gTm9ydGh3ZXN0ICh0b3AgbGVmdClcclxuICAgICAgaGFuZGxlLnN0eWxlLnRvcCA9ICctNHB4JztcclxuICAgICAgaGFuZGxlLnN0eWxlLmxlZnQgPSAnLTRweCc7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAnbic6IC8vIE5vcnRoICh0b3AgY2VudGVyKVxyXG4gICAgICBoYW5kbGUuc3R5bGUudG9wID0gJy00cHgnO1xyXG4gICAgICBoYW5kbGUuc3R5bGUubGVmdCA9IGBjYWxjKDUwJSAtIDRweClgO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgJ25lJzogLy8gTm9ydGhlYXN0ICh0b3AgcmlnaHQpXHJcbiAgICAgIGhhbmRsZS5zdHlsZS50b3AgPSAnLTRweCc7XHJcbiAgICAgIGhhbmRsZS5zdHlsZS5yaWdodCA9ICctNHB4JztcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICdlJzogLy8gRWFzdCAocmlnaHQgY2VudGVyKVxyXG4gICAgICBoYW5kbGUuc3R5bGUudG9wID0gYGNhbGMoNTAlIC0gNHB4KWA7XHJcbiAgICAgIGhhbmRsZS5zdHlsZS5yaWdodCA9ICctNHB4JztcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICdzZSc6IC8vIFNvdXRoZWFzdCAoYm90dG9tIHJpZ2h0KVxyXG4gICAgICBoYW5kbGUuc3R5bGUuYm90dG9tID0gJy00cHgnO1xyXG4gICAgICBoYW5kbGUuc3R5bGUucmlnaHQgPSAnLTRweCc7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAncyc6IC8vIFNvdXRoIChib3R0b20gY2VudGVyKVxyXG4gICAgICBoYW5kbGUuc3R5bGUuYm90dG9tID0gJy00cHgnO1xyXG4gICAgICBoYW5kbGUuc3R5bGUubGVmdCA9IGBjYWxjKDUwJSAtIDRweClgO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgJ3N3JzogLy8gU291dGh3ZXN0IChib3R0b20gbGVmdClcclxuICAgICAgaGFuZGxlLnN0eWxlLmJvdHRvbSA9ICctNHB4JztcclxuICAgICAgaGFuZGxlLnN0eWxlLmxlZnQgPSAnLTRweCc7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAndyc6IC8vIFdlc3QgKGxlZnQgY2VudGVyKVxyXG4gICAgICBoYW5kbGUuc3R5bGUudG9wID0gYGNhbGMoNTAlIC0gNHB4KWA7XHJcbiAgICAgIGhhbmRsZS5zdHlsZS5sZWZ0ID0gJy00cHgnO1xyXG4gICAgICBicmVhaztcclxuICB9XHJcbn07XHJcblxyXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gdXBkYXRlIGFsbCBoYW5kbGUgcG9zaXRpb25zIGFmdGVyIHJlc2l6ZVxyXG5jb25zdCB1cGRhdGVIYW5kbGVQb3NpdGlvbnMgPSAod3JhcHBlcjogSFRNTEVsZW1lbnQsIGltZzogSFRNTEltYWdlRWxlbWVudCk6IHZvaWQgPT4ge1xyXG4gIGNvbnN0IGhhbmRsZXMgPSB3cmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5yZXNpemUtaGFuZGxlJykgYXMgTm9kZUxpc3RPZjxIVE1MRWxlbWVudD47XHJcbiAgY29uc3QgaW1nV2lkdGggPSBpbWcub2Zmc2V0V2lkdGg7XHJcbiAgY29uc3QgaW1nSGVpZ2h0ID0gaW1nLm9mZnNldEhlaWdodDtcclxuICBcclxuICBoYW5kbGVzLmZvckVhY2goKGhhbmRsZSkgPT4ge1xyXG4gICAgY29uc3QgcG9zID0gaGFuZGxlLmNsYXNzTmFtZS5zcGxpdCgncmVzaXplLWhhbmRsZS0nKVsxXTtcclxuICAgIHBvc2l0aW9uSGFuZGxlKGhhbmRsZSwgcG9zLCBpbWdXaWR0aCwgaW1nSGVpZ2h0KTtcclxuICB9KTtcclxufTtcclxuXHJcbi8vIEZ1bmN0aW9uIHRvIGhhbmRsZSBpbWFnZSBpbnNlcnRpb24gaW4gdGhlIGVkaXRvclxyXG5leHBvcnQgY29uc3QgaGFuZGxlSW1hZ2VJbnNlcnRpb24gPSAoXHJcbiAgeyBpbWFnZVVybCwgdXBsb2FkZWRJbWFnZSB9OiBJbWFnZUluc2VydGlvbkRhdGEsIFxyXG4gIGV4ZWNDb21tYW5kOiAoY29tbWFuZDogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSA9PiB2b2lkXHJcbik6IGJvb2xlYW4gPT4ge1xyXG4gIGlmIChpbWFnZVVybCkge1xyXG4gICAgY29uc3QgaW1nSHRtbCA9IGA8aW1nIHNyYz1cIiR7aW1hZ2VVcmx9XCIgYWx0PVwiSW5zZXJ0ZWQgSW1hZ2VcIiBzdHlsZT1cIm1heC13aWR0aDogMTAwJTtcIiBjbGFzcz1cInJlc2l6YWJsZS1pbWFnZVwiIC8+YDtcclxuICAgIGV4ZWNDb21tYW5kKCdpbnNlcnRIVE1MJywgaW1nSHRtbCk7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9IGVsc2UgaWYgKHVwbG9hZGVkSW1hZ2UpIHtcclxuICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICByZWFkZXIub25sb2FkID0gKGU6IFByb2dyZXNzRXZlbnQ8RmlsZVJlYWRlcj4pID0+IHtcclxuICAgICAgaWYgKGUudGFyZ2V0Py5yZXN1bHQpIHtcclxuICAgICAgICBjb25zdCBpbWdIdG1sID0gYDxpbWcgc3JjPVwiJHtlLnRhcmdldC5yZXN1bHR9XCIgYWx0PVwiVXBsb2FkZWQgSW1hZ2VcIiBzdHlsZT1cIm1heC13aWR0aDogMTAwJTtcIiBjbGFzcz1cInJlc2l6YWJsZS1pbWFnZVwiIC8+YDtcclxuICAgICAgICBleGVjQ29tbWFuZCgnaW5zZXJ0SFRNTCcsIGltZ0h0bWwpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwodXBsb2FkZWRJbWFnZSk7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcbiAgcmV0dXJuIGZhbHNlO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgSW1hZ2VNb2RhbDtcclxuZXhwb3J0IHsgSW1hZ2VBbGlnbm1lbnRGbG9hdGVyIH07Il0sIm5hbWVzIjpbIlJlYWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJJbWFnZU1vZGFsIiwiaXNPcGVuIiwib25DbG9zZSIsIm9uSW5zZXJ0IiwiZmlsZUlucHV0UmVmIiwiaW1hZ2VVcmwiLCJzZXRJbWFnZVVybCIsInVwbG9hZGVkSW1hZ2UiLCJzZXRVcGxvYWRlZEltYWdlIiwicHJldmlld1VybCIsInNldFByZXZpZXdVcmwiLCJpbWFnZUxvYWRFcnJvciIsInNldEltYWdlTG9hZEVycm9yIiwidHJpbSIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJlIiwidGFyZ2V0IiwicmVzdWx0IiwicmVhZEFzRGF0YVVSTCIsImhhbmRsZUZpbGVDaGFuZ2UiLCJmaWxlcyIsImZpbGUiLCJ0eXBlIiwic3RhcnRzV2l0aCIsImFsZXJ0Iiwic2l6ZSIsInRyaWdnZXJGaWxlSW5wdXQiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsImN1cnJlbnQiLCJjbGljayIsImhhbmRsZUltYWdlSW5zZXJ0IiwiaGFuZGxlSW1hZ2VMb2FkRXJyb3IiLCJoYW5kbGVVcmxDaGFuZ2UiLCJ1cmwiLCJ2YWx1ZSIsImNsZWFyQWxsIiwiaGFuZGxlTW9kYWxDbG9zZSIsImRpdiIsImNsYXNzTmFtZSIsImgzIiwiYnV0dG9uIiwib25DbGljayIsInRpdGxlIiwibGFiZWwiLCJpbnB1dCIsInBsYWNlaG9sZGVyIiwib25DaGFuZ2UiLCJzcGFuIiwicmVmIiwic3R5bGUiLCJkaXNwbGF5IiwiYWNjZXB0IiwibmFtZSIsInAiLCJpbWciLCJzcmMiLCJhbHQiLCJvbkVycm9yIiwib25Mb2FkIiwiZGlzYWJsZWQiLCJJbWFnZUFsaWdubWVudEZsb2F0ZXIiLCJ3cmFwcGVyIiwiaGFuZGxlQ2hhbmdlIiwicG9zaXRpb24iLCJzZXRQb3NpdGlvbiIsInRvcCIsImxlZnQiLCJ3cmFwcGVyUmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImVkaXRvckVsZW1lbnQiLCJjbG9zZXN0IiwiZWRpdG9yUmVjdCIsImhhbmRsZUFsaWdubWVudCIsImFsaWdubWVudCIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZCIsInRleHRBbGlnbiIsIm1hcmdpbkxlZnQiLCJtYXJnaW5SaWdodCIsImdldEN1cnJlbnRBbGlnbm1lbnQiLCJjb250YWlucyIsImN1cnJlbnRBbGlnbm1lbnQiLCJoYW5kbGVGbG9hdGVyQ2xvc2UiLCJ6SW5kZXgiLCJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXIiLCJib3JkZXJSYWRpdXMiLCJwYWRkaW5nIiwiYm94U2hhZG93IiwiZ2FwIiwiYWxpZ25JdGVtcyIsImZvbnRTaXplIiwiY29sb3IiLCJjdXJzb3IiLCJzZXR1cEltYWdlUmVzaXplSGFuZGxlcnMiLCJlZGl0b3JSZWYiLCJleGlzdGluZ0Zsb2F0ZXJzIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJmbG9hdGVyIiwiaW1hZ2VzIiwiZGF0YXNldCIsInJlc2l6YWJsZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIm1heFdpZHRoIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsImFwcGVuZENoaWxkIiwiYm94U2l6aW5nIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNlbGVjdGVkV3JhcHBlcnMiLCJzZWxlY3RlZFdyYXBwZXIiLCJzZWxlY3RlZEltZyIsInF1ZXJ5U2VsZWN0b3IiLCJoYW5kbGVzIiwiaGFuZGxlIiwiY3JlYXRlUmVzaXplSGFuZGxlcyIsImNyZWF0ZUFsaWdubWVudEZsb2F0ZXIiLCJkZXNlbGVjdCIsImlzRmxvYXRlckNsaWNrIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNhbGN1bGF0ZVBvc2l0aW9uIiwiZmxvYXRlcldpZHRoIiwib2Zmc2V0V2lkdGgiLCJyaWdodCIsImJvdHRvbSIsIk9iamVjdCIsImFzc2lnbiIsImZvbnRGYW1pbHkiLCJ1c2VyU2VsZWN0IiwicG9pbnRlckV2ZW50cyIsImFsaWdubWVudHMiLCJrZXkiLCJzeW1ib2wiLCJ0ZXh0Q29udGVudCIsImZvbnRXZWlnaHQiLCJ3aWR0aCIsInVwZGF0ZUJ1dHRvblN0YXRlcyIsImFsaWdubWVudEJ1dHRvbnMiLCJib3JkZXJDb2xvciIsIm1pbldpZHRoIiwidHJhbnNpdGlvbiIsInB1c2giLCJjbG9zZUJ1dHRvbiIsImV4aXN0aW5nSGFuZGxlcyIsInBvc2l0aW9ucyIsImN1cnNvcnMiLCJwb3MiLCJoZWlnaHQiLCJpbWdXaWR0aCIsImltZ0hlaWdodCIsIm9mZnNldEhlaWdodCIsInBvc2l0aW9uSGFuZGxlIiwic3RhcnRYIiwiY2xpZW50WCIsInN0YXJ0WSIsImNsaWVudFkiLCJzdGFydFdpZHRoIiwic3RhcnRIZWlnaHQiLCJzdGFydFRvcCIsIm9mZnNldFRvcCIsInN0YXJ0TGVmdCIsIm9mZnNldExlZnQiLCJpbWdSYXRpbyIsIm9uTW91c2VNb3ZlIiwibW92ZUV2ZW50IiwiZGVsdGFYIiwiZGVsdGFZIiwibmV3V2lkdGgiLCJuZXdIZWlnaHQiLCJ1cGRhdGVIYW5kbGVQb3NpdGlvbnMiLCJvbk1vdXNlVXAiLCJzcGxpdCIsImhhbmRsZUltYWdlSW5zZXJ0aW9uIiwiZXhlY0NvbW1hbmQiLCJpbWdIdG1sIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/supereditor/Toolbars/Images/Images.tsx\n");

/***/ })

};
;